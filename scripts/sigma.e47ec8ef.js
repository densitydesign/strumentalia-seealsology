!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=52)}([function(a,b){function c(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}a.exports=c},function(a,b,c){var d=c(29),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();a.exports=f},function(a,b){function c(a){return null!=a&&"object"==typeof a}a.exports=c},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0});var g=b.GraphError=function(a){function b(c,f){d(this,b);var g=e(this,a.call(this));return g.name="GraphError",g.message=c||"",g.data=f||{},g}return f(b,a),b}(Error);b.InvalidArgumentsGraphError=function(a){function b(c,f){d(this,b);var g=e(this,a.call(this,c,f));return g.name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g,b.prototype.constructor),g}return f(b,a),b}(g),b.NotFoundGraphError=function(a){function b(c,f){d(this,b);var g=e(this,a.call(this,c,f));return g.name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g,b.prototype.constructor),g}return f(b,a),b}(g),b.UsageGraphError=function(a){function b(c,f){d(this,b);var g=e(this,a.call(this,c,f));return g.name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(g,b.prototype.constructor),g}return f(b,a),b}(g)},function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=c(28),f=c(60),g=c(61),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(69),f=c(70),g=c(71),h=c(72),i=c(73);d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=c(7);a.exports=d},function(a,b){function c(a,b){return a===b||a!==a&&b!==b}a.exports=c},function(a,b,c){var d=c(16),e=d(Object,"create");a.exports=e},function(a,b,c){function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=c(88);a.exports=d},function(a,b){a.exports=function(a){return null!==a&&"object"==typeof a&&"function"==typeof a.addUndirectedEdgeWithKey&&"function"==typeof a.dropNode&&"boolean"==typeof a.multi}},function(a,b,c){"use strict";function d(){for(var a=arguments[0]||{},b=1,c=arguments.length;c>b;b++)if(arguments[b])for(var d in arguments[b])a[d]=arguments[b][d];return a}function e(a,b,c,d){var e=a._nodes.get(b),f=null;return e?f="mixed"===d?e.out&&e.out[c]||e.undirected&&e.undirected[c]:"directed"===d?e.out&&e.out[c]:e.undirected&&e.undirected[c]:f}function f(a){return null!==a&&"object"===("undefined"==typeof a?"undefined":l(a))&&"function"==typeof a.addUndirectedEdgeWithKey&&"function"==typeof a.dropNode}function g(a){return"object"===("undefined"==typeof a?"undefined":l(a))&&null!==a&&a.constructor===Object}function h(a){for(var b=""+a,c="",d=0,e=b.length;e>d;d++){var f=e-d-1;c=b[f]+c,(d-2)%3||d===e-1||(c=","+c)}return c}function i(a,b,c){Object.defineProperty(a,b,{enumerable:!1,configurable:!1,writable:!0,value:c})}function j(a,b,c){var d={enumerable:!0,configurable:!0};"function"==typeof c?d.get=c:(d.value=c,d.writable=!1),Object.defineProperty(a,b,d)}function k(){var a=0;return function(){return"_geid"+a++ +"_"}}Object.defineProperty(b,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.assign=d,b.getMatchingEdge=e,b.isGraph=f,b.isPlainObject=g,b.prettyPrint=h,b.privateProperty=i,b.readOnlyProperty=j,b.incrementalId=k},function(a,b,c){"use strict";function d(a){console&&console.warn&&console.warn(a)}function e(){e.init.call(this)}function f(a){return void 0===a._maxListeners?e.defaultMaxListeners:a._maxListeners}function g(a,b,c,e){var g,h,i;if("function"!=typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);if(h=a._events,void 0===h?(h=a._events=Object.create(null),a._eventsCount=0):(void 0!==h.newListener&&(a.emit("newListener",b,c.listener?c.listener:c),h=a._events),i=h[b]),void 0===i)i=h[b]=c,++a._eventsCount;else if("function"==typeof i?i=h[b]=e?[c,i]:[i,c]:e?i.unshift(c):i.push(c),g=f(a),g>0&&i.length>g&&!i.warned){i.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=a,j.type=b,j.count=i.length,d(j)}return a}function h(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,q(this.listener,this.target,a))}function i(a,b,c){var d={fired:!1,wrapFn:void 0,target:a,type:b,listener:c},e=h.bind(d);return e.listener=c,d.wrapFn=e,e}function j(a,b,c){var d=a._events;if(void 0===d)return[];var e=d[b];return void 0===e?[]:"function"==typeof e?c?[e.listener||e]:[e]:c?n(e):l(e,e.length)}function k(a){var b=this._events;if(void 0!==b){var c=b[a];if("function"==typeof c)return 1;if(void 0!==c)return c.length}return 0}function l(a,b){for(var c=new Array(b),d=0;b>d;++d)c[d]=a[d];return c}function m(a,b){for(;b+1<a.length;b++)a[b]=a[b+1];a.pop()}function n(a){for(var b=new Array(a.length),c=0;c<b.length;++c)b[c]=a[c].listener||a[c];return b}var o,p="object"==typeof Reflect?Reflect:null,q=p&&"function"==typeof p.apply?p.apply:function(a,b,c){return Function.prototype.apply.call(a,b,c)};o=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var r=Number.isNaN||function(a){return a!==a};a.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var s=10;Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(a){if("number"!=typeof a||0>a||r(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");s=a}}),e.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(a){if("number"!=typeof a||0>a||r(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this},e.prototype.getMaxListeners=function(){return f(this)},e.prototype.emit=function(a){for(var b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);var d="error"===a,e=this._events;if(void 0!==e)d=d&&void 0===e.error;else if(!d)return!1;if(d){var f;if(b.length>0&&(f=b[0]),f instanceof Error)throw f;var g=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw g.context=f,g}var h=e[a];if(void 0===h)return!1;if("function"==typeof h)q(h,this,b);else for(var i=h.length,j=l(h,i),c=0;i>c;++c)q(j[c],this,b);return!0},e.prototype.addListener=function(a,b){return g(this,a,b,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(a,b){return g(this,a,b,!0)},e.prototype.once=function(a,b){if("function"!=typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);return this.on(a,i(this,a,b)),this},e.prototype.prependOnceListener=function(a,b){if("function"!=typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);return this.prependListener(a,i(this,a,b)),this},e.prototype.removeListener=function(a,b){var c,d,e,f,g;if("function"!=typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);if(d=this._events,void 0===d)return this;if(c=d[a],void 0===c)return this;if(c===b||c.listener===b)0===--this._eventsCount?this._events=Object.create(null):(delete d[a],d.removeListener&&this.emit("removeListener",a,c.listener||b));else if("function"!=typeof c){for(e=-1,f=c.length-1;f>=0;f--)if(c[f]===b||c[f].listener===b){g=c[f].listener,e=f;break}if(0>e)return this;0===e?c.shift():m(c,e),1===c.length&&(d[a]=c[0]),void 0!==d.removeListener&&this.emit("removeListener",a,g||b)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(a){var b,c,d;if(c=this._events,void 0===c)return this;if(void 0===c.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==c[a]&&(0===--this._eventsCount?this._events=Object.create(null):delete c[a]),this;if(0===arguments.length){var e,f=Object.keys(c);for(d=0;d<f.length;++d)e=f[d],"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(b=c[a],"function"==typeof b)this.removeListener(a,b);else if(void 0!==b)for(d=b.length-1;d>=0;d--)this.removeListener(a,b[d]);return this},e.prototype.listeners=function(a){return j(this,a,!0)},e.prototype.rawListeners=function(a){return j(this,a,!1)},e.listenerCount=function(a,b){return"function"==typeof a.listenerCount?a.listenerCount(b):k.call(a,b)},e.prototype.listenerCount=k,e.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]}},function(a,b){function c(a){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:a}),this.done=!1}c.prototype.next=function(){if(this.done)return{done:!0};var a=this._next();return a.done&&(this.done=!0),a},"undefined"!=typeof Symbol&&(c.prototype[Symbol.iterator]=function(){return this}),c.of=function(){var a=arguments,b=a.length,d=0;return new c(function(){return d>=b?{done:!0}:{done:!1,value:a[d++]}})},c.empty=function(){var a=new c(null);return a.done=!0,a},c.is=function(a){return a instanceof c?!0:"object"==typeof a&&null!==a&&"function"==typeof a.next},a.exports=c},function(a,b,c){"use strict";function d(a,b){this.key=a,this.attributes=b,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this["in"]={},this.out={},this.undirected={}}function e(a,b){this.key=a,this.attributes=b||{},this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this["in"]={},this.out={}}function f(a,b){this.key=a,this.attributes=b||{},this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function g(a,b,c,d,e){this.key=a,this.attributes=e,this.source=c,this.target=d,this.generatedKey=b}function h(a,b,c,d,e){this.key=a,this.attributes=e,this.source=c,this.target=d,this.generatedKey=b}Object.defineProperty(b,"__esModule",{value:!0}),b.MixedNodeData=d,b.DirectedNodeData=e,b.UndirectedNodeData=f,b.DirectedEdgeData=g,b.UndirectedEdgeData=h,e.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},f.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this["in"]={},this.out={}}},function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b["default"]=a,b}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var n=c(12),o=d(c(139)),p=c(46),q={easing:"quadraticInOut",duration:150},r=1.5,s=function(a){function b(){var a;return f(this,b),a=i(this,k(b).call(this)),a.x=.5,a.y=.5,a.angle=0,a.ratio=1,a.nextFrame=null,a.previousState=a.getState(),a.enabled=!0,a}return l(b,a),h(b,[{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"getState",value:function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}}},{key:"getPreviousState",value:function(){var a=this.previousState;return{x:a.x,y:a.y,angle:a.angle,ratio:a.ratio}}},{key:"isAnimated",value:function(){return!!this.nextFrame}},{key:"graphToViewport",value:function(a,b,c){var d=Math.min(a.width,a.height),e=d/a.width,f=d/a.height;return{x:(b-this.x+this.ratio/2/e)*(d/this.ratio),y:(this.y-c+this.ratio/2/f)*(d/this.ratio)}}},{key:"viewportToGraph",value:function(a,b,c){var d=Math.min(a.width,a.height),e=d/a.width,f=d/a.height;return{x:this.ratio/d*b+this.x-this.ratio/2/e,y:-(this.ratio/d*c-this.y-this.ratio/2/f)}}},{key:"viewRectangle",value:function(a){var b=0*a.width/8,c=0*a.height/8,d=this.viewportToGraph(a,0-b,0-c),e=this.viewportToGraph(a,a.width+b,0-c),f=this.viewportToGraph(a,0,a.height+c);return{x1:d.x,y1:d.y,x2:e.x,y2:e.y,height:e.y-f.y}}},{key:"setState",value:function(a){return this.enabled?(this.previousState=this.getState(),"x"in a&&(this.x=a.x),"y"in a&&(this.y=a.y),"angle"in a&&(this.angle=a.angle),"ratio"in a&&(this.ratio=a.ratio),this.emit("updated",this.getState()),this):this}},{key:"animate",value:function(a,b,c){var d=this;if(!this.enabled)return this;b=p.assign({},q,b);var e="function"==typeof b.easing?b.easing:o[b.easing];this.nextFrame&&cancelAnimationFrame(this.nextFrame);var f=Date.now(),g=this.getState(),h=function i(){var h=(Date.now()-f)/b.duration;if(h>=1)return d.nextFrame=null,d.setState(a),void("function"==typeof c&&c());var j=e(h),k={};"x"in a&&(k.x=g.x+(a.x-g.x)*j),"y"in a&&(k.y=g.y+(a.y-g.y)*j),"angle"in a&&(k.angle=g.angle+(a.angle-g.angle)*j),"ratio"in a&&(k.ratio=g.ratio+(a.ratio-g.ratio)*j),d.setState(k),d.nextFrame=requestAnimationFrame(i)};this.nextFrame?(cancelAnimationFrame(this.nextFrame),this.nextFrame=requestAnimationFrame(h)):h()}},{key:"animatedZoom",value:function(a){return a?"number"==typeof a?this.animate({ratio:this.ratio/a}):this.animate({ratio:this.ratio/(a.factor||r)},a):this.animate({ratio:this.ratio/r})}},{key:"animatedUnzoom",value:function(a){return a?"number"==typeof a?this.animate({ratio:this.ratio*a}):this.animate({ratio:this.ratio*(a.factor||r)},a):this.animate({ratio:this.ratio*r})}},{key:"animatedReset",value:function(a){return this.animate({x:.5,y:.5,ratio:1,angle:0},a)}}]),b}(n.EventEmitter);b["default"]=s},function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=c(59),f=c(65);a.exports=d},function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=c(4),f=c(0),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";a.exports=d},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(1,eval)("this")}catch(d){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=c(27);a.exports=d},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=c(17),f=c(37);a.exports=d},function(a,b){a.exports=function(a,b){for(var c,d=arguments.length>1?b:1/0,e=d!==1/0?new Array(d):[],f=0;;){if(f===d)return e;if(c=a.next(),c.done)return f!==b?e.slice(0,f):e;e[f++]=c.value}}},function(a,b,c){"use strict";function d(a){if("undefined"!=typeof i[a])return i[a];var b=0,c=0,d=0,e=1;if("#"===a[0])4===a.length?(b=parseInt(a.charAt(1)+a.charAt(1),16),c=parseInt(a.charAt(2)+a.charAt(2),16),d=parseInt(a.charAt(3)+a.charAt(3),16)):(b=parseInt(a.charAt(1)+a.charAt(2),16),c=parseInt(a.charAt(3)+a.charAt(4),16),d=parseInt(a.charAt(5)+a.charAt(6),16));else if(m.test(a)){var f=a.match(n);b=+f[1],c=+f[2],d=+f[3],f[4]&&(e=+f[4])}e=255*e|0;var g=4278190079&(e<<24|d<<16|c<<8|b);k[0]=g;var h=l[0];return i[a]=h,h}function e(a,b){var c=a.angle,d=a.ratio,e=a.x,f=a.y,g=b.width,i=b.height,j=h.identity(),k=Math.min(g,i),l=h.translate(h.identity(),-e,-f),m=h.scale(h.identity(),1/d),n=h.rotate(h.identity(),-c),o=h.scale(h.identity(),2*(k/g),2*(k/i));return h.multiply(j,o),h.multiply(j,n),h.multiply(j,m),h.multiply(j,l),j}function f(a,b,c,d){var e=d||new Uint8Array(4);return a.readPixels(b,c,1,1,a.RGBA,a.UNSIGNED_BYTE,e),e}function g(a){var b="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext;return b||!!a.getExtension("OES_element_index_uint")}Object.defineProperty(b,"__esModule",{value:!0}),b.floatColor=d,b.matrixFromCamera=e,b.extractPixel=f,b.canUse32BitsIndices=g;var h=c(151),i={},j=new Int8Array(4),k=new Int32Array(j.buffer,0,1),l=new Float32Array(j.buffer,0,1),m=/^\s*rgba?\s*\(/,n=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/},function(a,b){function c(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}a.exports=c},function(a,b,c){function d(a,b){return g(f(a,b,e),a+"")}var e=c(26),f=c(55),g=c(56);a.exports=d},function(a,b){function c(a){return a}a.exports=c},function(a,b,c){var d=c(16),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(b){}}();a.exports=e},function(a,b,c){var d=c(1),e=d.Symbol;a.exports=e},function(a,b,c){(function(b){var c="object"==typeof b&&b&&b.Object===Object&&b;a.exports=c}).call(b,c(18))},function(a,b,c){function d(a,b,c,l,m){a!==b&&g(b,function(g,j){if(m||(m=new e),i(g))h(a,b,j,c,d,l,m);else{var n=l?l(k(a,j),g,j+"",a,b,m):void 0;void 0===n&&(n=g),f(a,j,n)}},j)}var e=c(68),f=c(32),g=c(92),h=c(94),i=c(0),j=c(41),k=c(40);a.exports=d},function(a,b,c){var d=c(16),e=c(1),f=d(e,"Map");a.exports=f},function(a,b,c){function d(a,b,c){(void 0!==c&&!f(a[b],c)||void 0===c&&!(b in a))&&e(a,b,c)}var e=c(19),f=c(7);a.exports=d},function(a,b,c){var d=c(102),e=d(Object.getPrototypeOf,Object);a.exports=e},function(a,b){function c(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||d;return a===c}var d=Object.prototype;a.exports=c},function(a,b,c){var d=c(103),e=c(2),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};a.exports=i},function(a,b){var c=Array.isArray;a.exports=c},function(a,b){function c(a){return"number"==typeof a&&a>-1&&a%1==0&&d>=a}var d=9007199254740991;a.exports=c},function(a,b,c){(function(a){var d=c(1),e=c(105),f="object"==typeof b&&b&&!b.nodeType&&b,g=f&&"object"==typeof a&&a&&!a.nodeType&&a,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;a.exports=k}).call(b,c(20)(a))},function(a,b,c){var d=c(107),e=c(108),f=c(109),g=f&&f.isTypedArray,h=g?e(g):d;a.exports=h},function(a,b){function c(a,b){return"constructor"===b&&"function"==typeof a[b]||"__proto__"==b?void 0:a[b]}a.exports=c},function(a,b,c){function d(a){return g(a)?e(a,!0):f(a)}var e=c(113),f=c(115),g=c(21);a.exports=d},function(a,b){function c(a,b){var c=typeof a;return b=null==b?d:b,!!b&&("number"==c||"symbol"!=c&&e.test(a))&&a>-1&&a%1==0&&b>a}var d=9007199254740991,e=/^(?:0|[1-9]\d*)$/;a.exports=c},function(a,b,c){var d=c(13);a.exports=function(){var a,b=arguments,c=-1;return new d(function e(){if(!a){if(c++,c>=b.length)return{done:!0};a=b[c]}var d=a.next();return d.done?(a=null,e()):d})}},function(a,b){function c(a,b){for(var c in a)b[c]=a[c]}function d(a,b){function d(){}var e=a.prototype;if(Object.create){var f=Object.create(b.prototype);e.__proto__=f}e instanceof b||(d.prototype=b.prototype,d=new d,c(e,d),a.prototype=e=d),e.constructor!=a&&("function"!=typeof a&&console.error("unknow Class:"+a),e.constructor=a)}function e(a,b){if(b instanceof Error)var c=b;else c=this,Error.call(this,ea[a]),this.message=ea[a],Error.captureStackTrace&&Error.captureStackTrace(this,e);return c.code=a,b&&(this.message=this.message+": "+b),c}function f(){}function g(a,b){this._node=a,this._refresh=b,h(this)}function h(a){var b=a._node._inc||a._node.ownerDocument._inc;if(a._inc!=b){var d=a._refresh(a._node);P(a,"length",d.length),c(d,a),a._inc=b}}function i(){}function j(a,b){for(var c=a.length;c--;)if(a[c]===b)return c}function k(a,b,c,d){if(d?b[j(b,d)]=c:b[b.length++]=c,a){c.ownerElement=a;var e=a.ownerDocument;e&&(d&&s(e,a,d),r(e,a,c))}}function l(a,b,c){var d=j(b,c);if(!(d>=0))throw e(ga,new Error(a.tagName+"@"+c));for(var f=b.length-1;f>d;)b[d]=b[++d];if(b.length=f,a){var g=a.ownerDocument;g&&(s(g,a,c),c.ownerElement=null)}}function m(a){if(this._features={},a)for(var b in a)this._features=a[b]}function n(){}function o(a){return"<"==a&&"&lt;"||">"==a&&"&gt;"||"&"==a&&"&amp;"||'"'==a&&"&quot;"||"&#"+a.charCodeAt()+";"}function p(a,b){if(b(a))return!0;if(a=a.firstChild)do if(p(a,b))return!0;while(a=a.nextSibling)}function q(){}function r(a,b,c){a&&a._inc++;var d=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==d&&(b._nsMap[c.prefix?c.localName:""]=c.value)}function s(a,b,c,d){a&&a._inc++;var e=c.namespaceURI;"http://www.w3.org/2000/xmlns/"==e&&delete b._nsMap[c.prefix?c.localName:""]}function t(a,b,c){if(a&&a._inc){a._inc++;var d=b.childNodes;if(c)d[d.length++]=c;else{for(var e=b.firstChild,f=0;e;)d[f++]=e,e=e.nextSibling;d.length=f}}}function u(a,b){var c=b.previousSibling,d=b.nextSibling;return c?c.nextSibling=d:a.firstChild=d,d?d.previousSibling=c:a.lastChild=c,t(a.ownerDocument,a),b}function v(a,b,c){var d=b.parentNode;if(d&&d.removeChild(b),b.nodeType===ba){var e=b.firstChild;if(null==e)return b;var f=b.lastChild}else e=f=b;var g=c?c.previousSibling:a.lastChild;e.previousSibling=g,f.nextSibling=c,g?g.nextSibling=e:a.firstChild=e,null==c?a.lastChild=f:c.previousSibling=f;do e.parentNode=a;while(e!==f&&(e=e.nextSibling));return t(a.ownerDocument||a,a),b.nodeType==ba&&(b.firstChild=b.lastChild=null),b}function w(a,b){var c=b.parentNode;if(c){var d=a.lastChild;c.removeChild(b);var d=a.lastChild}var d=a.lastChild;return b.parentNode=a,b.previousSibling=d,b.nextSibling=null,d?d.nextSibling=b:a.firstChild=b,a.lastChild=b,t(a.ownerDocument,a,b),b}function x(){this._nsMap={}}function y(){}function z(){}function A(){}function B(){}function C(){}function D(){}function E(){}function F(){}function G(){}function H(){}function I(){}function J(){}function K(a,b){var c=[],d=9==this.nodeType?this.documentElement:this,e=d.prefix,f=d.namespaceURI;if(f&&null==e){var e=d.lookupPrefix(f);if(null==e)var g=[{namespace:f,prefix:null}]}return M(this,c,a,b,g),c.join("")}function L(a,b,c){var d=a.prefix||"",e=a.namespaceURI;if(!d&&!e)return!1;if("xml"===d&&"http://www.w3.org/XML/1998/namespace"===e||"http://www.w3.org/2000/xmlns/"==e)return!1;for(var f=c.length;f--;){var g=c[f];if(g.prefix==d)return g.namespace!=e}return!0}function M(a,b,c,d,e){if(d){if(a=d(a),!a)return;if("string"==typeof a)return void b.push(a)}switch(a.nodeType){case T:e||(e=[]);var f=(e.length,a.attributes),g=f.length,h=a.firstChild,i=a.tagName;c=R===a.namespaceURI||c,b.push("<",i);for(var j=0;g>j;j++){var k=f.item(j);"xmlns"==k.prefix?e.push({prefix:k.localName,namespace:k.value}):"xmlns"==k.nodeName&&e.push({prefix:"",namespace:k.value})}for(var j=0;g>j;j++){var k=f.item(j);if(L(k,c,e)){var l=k.prefix||"",m=k.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}M(k,b,c,d,e)}if(L(a,c,e)){var l=a.prefix||"",m=a.namespaceURI,n=l?" xmlns:"+l:" xmlns";b.push(n,'="',m,'"'),e.push({prefix:l,namespace:m})}if(h||c&&!/^(?:meta|link|img|br|hr|input)$/i.test(i)){if(b.push(">"),c&&/^script$/i.test(i))for(;h;)h.data?b.push(h.data):M(h,b,c,d,e),h=h.nextSibling;else for(;h;)M(h,b,c,d,e),h=h.nextSibling;b.push("</",i,">")}else b.push("/>");return;case _:case ba:for(var h=a.firstChild;h;)M(h,b,c,d,e),h=h.nextSibling;return;case U:return b.push(" ",a.name,'="',a.value.replace(/[<&"]/g,o),'"');case V:return b.push(a.data.replace(/[<&]/g,o));case W:return b.push("<![CDATA[",a.data,"]]>");case $:return b.push("<!--",a.data,"-->");case aa:var p=a.publicId,q=a.systemId;if(b.push("<!DOCTYPE ",a.name),p)b.push(' PUBLIC "',p),q&&"."!=q&&b.push('" "',q),b.push('">');else if(q&&"."!=q)b.push(' SYSTEM "',q,'">');else{var r=a.internalSubset;r&&b.push(" [",r,"]"),b.push(">")}return;case Z:return b.push("<?",a.target," ",a.data,"?>");case X:return b.push("&",a.nodeName,";");default:b.push("??",a.nodeName)}}function N(a,b,c){var d;switch(b.nodeType){case T:d=b.cloneNode(!1),d.ownerDocument=a;case ba:break;case U:c=!0}if(d||(d=b.cloneNode(!1)),d.ownerDocument=a,d.parentNode=null,c)for(var e=b.firstChild;e;)d.appendChild(N(a,e,c)),e=e.nextSibling;return d}function O(a,b,c){var d=new b.constructor;for(var e in b){var g=b[e];"object"!=typeof g&&g!=d[e]&&(d[e]=g)}switch(b.childNodes&&(d.childNodes=new f),d.ownerDocument=a,d.nodeType){case T:var h=b.attributes,j=d.attributes=new i,k=h.length;j._ownerElement=d;for(var l=0;k>l;l++)d.setAttributeNode(O(a,h.item(l),!0));break;case U:c=!0}if(c)for(var m=b.firstChild;m;)d.appendChild(O(a,m,c)),m=m.nextSibling;return d}function P(a,b,c){a[b]=c}function Q(a){switch(a.nodeType){case T:case ba:var b=[];for(a=a.firstChild;a;)7!==a.nodeType&&8!==a.nodeType&&b.push(Q(a)),a=a.nextSibling;return b.join("");default:return a.nodeValue}}var R="http://www.w3.org/1999/xhtml",S={},T=S.ELEMENT_NODE=1,U=S.ATTRIBUTE_NODE=2,V=S.TEXT_NODE=3,W=S.CDATA_SECTION_NODE=4,X=S.ENTITY_REFERENCE_NODE=5,Y=S.ENTITY_NODE=6,Z=S.PROCESSING_INSTRUCTION_NODE=7,$=S.COMMENT_NODE=8,_=S.DOCUMENT_NODE=9,aa=S.DOCUMENT_TYPE_NODE=10,ba=S.DOCUMENT_FRAGMENT_NODE=11,ca=S.NOTATION_NODE=12,da={},ea={},fa=(da.INDEX_SIZE_ERR=(ea[1]="Index size error",1),da.DOMSTRING_SIZE_ERR=(ea[2]="DOMString size error",2),da.HIERARCHY_REQUEST_ERR=(ea[3]="Hierarchy request error",3)),ga=(da.WRONG_DOCUMENT_ERR=(ea[4]="Wrong document",4),da.INVALID_CHARACTER_ERR=(ea[5]="Invalid character",5),da.NO_DATA_ALLOWED_ERR=(ea[6]="No data allowed",6),da.NO_MODIFICATION_ALLOWED_ERR=(ea[7]="No modification allowed",7),da.NOT_FOUND_ERR=(ea[8]="Not found",8)),ha=(da.NOT_SUPPORTED_ERR=(ea[9]="Not supported",9),da.INUSE_ATTRIBUTE_ERR=(ea[10]="Attribute in use",10));da.INVALID_STATE_ERR=(ea[11]="Invalid state",11),da.SYNTAX_ERR=(ea[12]="Syntax error",12),da.INVALID_MODIFICATION_ERR=(ea[13]="Invalid modification",13),da.NAMESPACE_ERR=(ea[14]="Invalid namespace",14),da.INVALID_ACCESS_ERR=(ea[15]="Invalid access",15);e.prototype=Error.prototype,c(da,e),f.prototype={length:0,item:function(a){return this[a]||null},toString:function(a,b){for(var c=[],d=0;d<this.length;d++)M(this[d],c,a,b);return c.join("")}},g.prototype.item=function(a){return h(this),this[a]},d(g,f),i.prototype={length:0,item:f.prototype.item,getNamedItem:function(a){for(var b=this.length;b--;){var c=this[b];if(c.nodeName==a)return c}},setNamedItem:function(a){var b=a.ownerElement;if(b&&b!=this._ownerElement)throw new e(ha);var c=this.getNamedItem(a.nodeName);return k(this._ownerElement,this,a,c),c},setNamedItemNS:function(a){var b,c=a.ownerElement;if(c&&c!=this._ownerElement)throw new e(ha);return b=this.getNamedItemNS(a.namespaceURI,a.localName),k(this._ownerElement,this,a,b),b},removeNamedItem:function(a){var b=this.getNamedItem(a);return l(this._ownerElement,this,b),b},removeNamedItemNS:function(a,b){var c=this.getNamedItemNS(a,b);return l(this._ownerElement,this,c),c},getNamedItemNS:function(a,b){for(var c=this.length;c--;){var d=this[c];if(d.localName==b&&d.namespaceURI==a)return d}return null}},m.prototype={hasFeature:function(a,b){var c=this._features[a.toLowerCase()];return c&&(!b||b in c)?!0:!1},createDocument:function(a,b,c){var d=new q;if(d.implementation=this,d.childNodes=new f,d.doctype=c,c&&d.appendChild(c),b){var e=d.createElementNS(a,b);d.appendChild(e)}return d},createDocumentType:function(a,b,c){var d=new D;return d.name=a,d.nodeName=a,d.publicId=b,d.systemId=c,d}},n.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(a,b){return v(this,a,b)},replaceChild:function(a,b){this.insertBefore(a,b),b&&this.removeChild(b)},removeChild:function(a){return u(this,a)},appendChild:function(a){return this.insertBefore(a,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(a){return O(this.ownerDocument||this,this,a)},normalize:function(){for(var a=this.firstChild;a;){var b=a.nextSibling;b&&b.nodeType==V&&a.nodeType==V?(this.removeChild(b),a.appendData(b.data)):(a.normalize(),a=b)}},isSupported:function(a,b){return this.ownerDocument.implementation.hasFeature(a,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(a){for(var b=this;b;){var c=b._nsMap;if(c)for(var d in c)if(c[d]==a)return d;b=b.nodeType==U?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(a){for(var b=this;b;){var c=b._nsMap;if(c&&a in c)return c[a];b=b.nodeType==U?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(a){var b=this.lookupPrefix(a);return null==b}},c(S,n),c(S,n.prototype),q.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(a,b){if(a.nodeType==ba){for(var c=a.firstChild;c;){var d=c.nextSibling;this.insertBefore(c,b),c=d}return a}return null==this.documentElement&&a.nodeType==T&&(this.documentElement=a),v(this,a,b),a.ownerDocument=this,a},removeChild:function(a){return this.documentElement==a&&(this.documentElement=null),u(this,a)},importNode:function(a,b){return N(this,a,b)},getElementById:function(a){var b=null;return p(this.documentElement,function(c){return c.nodeType==T&&c.getAttribute("id")==a?(b=c,
!0):void 0}),b},createElement:function(a){var b=new x;b.ownerDocument=this,b.nodeName=a,b.tagName=a,b.childNodes=new f;var c=b.attributes=new i;return c._ownerElement=b,b},createDocumentFragment:function(){var a=new H;return a.ownerDocument=this,a.childNodes=new f,a},createTextNode:function(a){var b=new A;return b.ownerDocument=this,b.appendData(a),b},createComment:function(a){var b=new B;return b.ownerDocument=this,b.appendData(a),b},createCDATASection:function(a){var b=new C;return b.ownerDocument=this,b.appendData(a),b},createProcessingInstruction:function(a,b){var c=new I;return c.ownerDocument=this,c.tagName=c.target=a,c.nodeValue=c.data=b,c},createAttribute:function(a){var b=new y;return b.ownerDocument=this,b.name=a,b.nodeName=a,b.localName=a,b.specified=!0,b},createEntityReference:function(a){var b=new G;return b.ownerDocument=this,b.nodeName=a,b},createElementNS:function(a,b){var c=new x,d=b.split(":"),e=c.attributes=new i;return c.childNodes=new f,c.ownerDocument=this,c.nodeName=b,c.tagName=b,c.namespaceURI=a,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,e._ownerElement=c,c},createAttributeNS:function(a,b){var c=new y,d=b.split(":");return c.ownerDocument=this,c.nodeName=b,c.name=b,c.namespaceURI=a,c.specified=!0,2==d.length?(c.prefix=d[0],c.localName=d[1]):c.localName=b,c}},d(q,n),x.prototype={nodeType:T,hasAttribute:function(a){return null!=this.getAttributeNode(a)},getAttribute:function(a){var b=this.getAttributeNode(a);return b&&b.value||""},getAttributeNode:function(a){return this.attributes.getNamedItem(a)},setAttribute:function(a,b){var c=this.ownerDocument.createAttribute(a);c.value=c.nodeValue=""+b,this.setAttributeNode(c)},removeAttribute:function(a){var b=this.getAttributeNode(a);b&&this.removeAttributeNode(b)},appendChild:function(a){return a.nodeType===ba?this.insertBefore(a,null):w(this,a)},setAttributeNode:function(a){return this.attributes.setNamedItem(a)},setAttributeNodeNS:function(a){return this.attributes.setNamedItemNS(a)},removeAttributeNode:function(a){return this.attributes.removeNamedItem(a.nodeName)},removeAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);c&&this.removeAttributeNode(c)},hasAttributeNS:function(a,b){return null!=this.getAttributeNodeNS(a,b)},getAttributeNS:function(a,b){var c=this.getAttributeNodeNS(a,b);return c&&c.value||""},setAttributeNS:function(a,b,c){var d=this.ownerDocument.createAttributeNS(a,b);d.value=d.nodeValue=""+c,this.setAttributeNode(d)},getAttributeNodeNS:function(a,b){return this.attributes.getNamedItemNS(a,b)},getElementsByTagName:function(a){return new g(this,function(b){var c=[];return p(b,function(d){d===b||d.nodeType!=T||"*"!==a&&d.tagName!=a||c.push(d)}),c})},getElementsByTagNameNS:function(a,b){return new g(this,function(c){var d=[];return p(c,function(e){e===c||e.nodeType!==T||"*"!==a&&e.namespaceURI!==a||"*"!==b&&e.localName!=b||d.push(e)}),d})}},q.prototype.getElementsByTagName=x.prototype.getElementsByTagName,q.prototype.getElementsByTagNameNS=x.prototype.getElementsByTagNameNS,d(x,n),y.prototype.nodeType=U,d(y,n),z.prototype={data:"",substringData:function(a,b){return this.data.substring(a,a+b)},appendData:function(a){a=this.data+a,this.nodeValue=this.data=a,this.length=a.length},insertData:function(a,b){this.replaceData(a,0,b)},appendChild:function(a){throw new Error(ea[fa])},deleteData:function(a,b){this.replaceData(a,b,"")},replaceData:function(a,b,c){var d=this.data.substring(0,a),e=this.data.substring(a+b);c=d+c+e,this.nodeValue=this.data=c,this.length=c.length}},d(z,n),A.prototype={nodeName:"#text",nodeType:V,splitText:function(a){var b=this.data,c=b.substring(a);b=b.substring(0,a),this.data=this.nodeValue=b,this.length=b.length;var d=this.ownerDocument.createTextNode(c);return this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling),d}},d(A,z),B.prototype={nodeName:"#comment",nodeType:$},d(B,z),C.prototype={nodeName:"#cdata-section",nodeType:W},d(C,z),D.prototype.nodeType=aa,d(D,n),E.prototype.nodeType=ca,d(E,n),F.prototype.nodeType=Y,d(F,n),G.prototype.nodeType=X,d(G,n),H.prototype.nodeName="#document-fragment",H.prototype.nodeType=ba,d(H,n),I.prototype.nodeType=Z,d(I,n),J.prototype.serializeToString=function(a,b,c){return K.call(a,b,c)},n.prototype.toString=K;try{Object.defineProperty&&(Object.defineProperty(g.prototype,"length",{get:function(){return h(this),this.$$length}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return Q(this)},set:function(a){switch(this.nodeType){case T:case ba:for(;this.firstChild;)this.removeChild(this.firstChild);(a||String(a))&&this.appendChild(this.ownerDocument.createTextNode(a));break;default:this.data=a,this.value=a,this.nodeValue=a}}}),P=function(a,b,c){a["$$"+b]=c})}catch(ia){}b.DOMImplementation=m,b.XMLSerializer=J},function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?g(a):b}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var k=c(12),l=function(a){function b(){return e(this,b),f(this,h(b).apply(this,arguments))}return i(b,a),b}(k.EventEmitter);b["default"]=l},function(a,b,c){"use strict";function d(a){a=a||{};for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];for(var e=0,f=c.length;f>e;e++)if(c[e])for(var g in c[e])a[g]=c[e][g];return a}Object.defineProperty(b,"__esModule",{value:!0}),b.assign=d},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b,c,d){return a===c||b===d}function i(a,b,c,d,e,f,g){return d+f>a&&a+c>d&&e+g>b&&b+c>e}function j(a,b,c,d,e,f,g,h){return e+g>a&&a+c>e&&f+h>b&&b+d>f}function k(a,b,c,d,e,f){var g=c+e/2,h=d+f/2,i=h>b,j=g>a;return i?j?v:w:j?x:y}function l(a,b){for(var c=[0,0];c.length;){var d=c.pop(),e=c.pop(),f=4*e+p,g=4*e+2*p,h=4*e+3*p,i=4*e+4*p,j=b[e+r],k=b[e+s],l=b[e+t],m=b[e+u],n=l/2,o=m/2;b[f+r]=j,b[f+s]=k,b[f+t]=n,b[f+u]=o,b[g+r]=j+n,b[g+s]=k,b[g+t]=n,b[g+u]=o,b[h+r]=j,b[h+s]=k+o,b[h+t]=n,b[h+u]=o,b[i+r]=j+n,b[i+s]=k+o,b[i+t]=n,b[i+u]=o,a-1>d&&(c.push(i,d+1),c.push(h,d+1),c.push(g,d+1),c.push(f,d+1))}}function m(a,b,c,d,e,f,g){for(var h=e-g,j=f-g,k=2*g,l=0,m=0;;){if(l>=a)return c[m]=c[m]||[],void c[m].push(d);var n=4*m+p,o=4*m+2*p,q=4*m+3*p,v=4*m+4*p,w=i(h,j,k,b[n+r],b[n+s],b[n+t],b[n+u]),x=i(h,j,k,b[o+r],b[o+s],b[o+t],b[o+u]),y=i(h,j,k,b[q+r],b[q+s],b[q+t],b[q+u]),z=i(h,j,k,b[v+r],b[v+s],b[v+t],b[v+u]),A=w+x+y+z;if(0===A)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(l,", key: ").concat(d,", x: ").concat(e,", y: ").concat(f,", size: ").concat(g,")."));if(3===A)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(l,", key: ").concat(d,", x: ").concat(e,", y: ").concat(f,", size: ").concat(g,")."));if(A>1)return c[m]=c[m]||[],void c[m].push(d);l++,w&&(m=n),x&&(m=o),y&&(m=q),z&&(m=v)}}function n(a,b,c,d,e,f,g){for(var h,i=[0,0],k=[];i.length;){var l=i.pop(),m=i.pop();if(h=c[m],h&&o["default"](k,h),!(l>=a)){var n=4*m+p,q=4*m+2*p,v=4*m+3*p,w=4*m+4*p,x=j(d,e,f,g,b[n+r],b[n+s],b[n+t],b[n+u]),y=j(d,e,f,g,b[q+r],b[q+s],b[q+t],b[q+u]),z=j(d,e,f,g,b[v+r],b[v+s],b[v+t],b[v+u]),A=j(d,e,f,g,b[w+r],b[w+s],b[w+t],b[w+u]);x&&i.push(n,l+1),y&&i.push(q,l+1),z&&i.push(v,l+1),A&&i.push(w,l+1)}}return k}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var o=d(c(140)),p=4,q=5,r=0,s=1,t=2,u=3,v=1,w=2,x=3,y=4,z=function(){function a(b){e(this,a),b=b||{};var c=Math.pow(4,q);this.data=new Float32Array(p*((4*c-1)/3)),this.containers={},this.cache=null,this.lastRectangle=null,b.boundaries?this.resize(b.boundaries):this.resize({x:0,y:0,width:1,height:1}),"function"==typeof b.filter&&(this.nodeFilter=b.filter)}return g(a,[{key:"add",value:function(a,b,c,d){return m(q,this.data,this.containers,a,b,c,d),this}},{key:"resize",value:function(a){this.clear(),this.data[r]=a.x,this.data[s]=a.y,this.data[t]=a.width,this.data[u]=a.height,l(q,this.data)}},{key:"clear",value:function(){return this.containers={},this}},{key:"point",value:function(a,b){var c=[],d=0,e=0;do{this.containers[d]&&c.push.apply(c,this.containers[d]);var f=k(a,b,this.data[d+r],this.data[d+s],this.data[d+t],this.data[d+u]);d=4*d+f*p,e++}while(q>=e);return c}},{key:"rectangle",value:function(a,b,c,d,e){var f=this.lastRectangle;if(f&&a===f.x1&&c===f.x2&&b===f.y1&&d===f.y2&&e===f.height)return this.cache;if(this.lastRectangle={x1:a,y1:b,x2:c,y2:d,height:e},!h(a,b,c,d))throw new Error("sigma/quadtree.rectangle: shifted view is not yet implemented.");var g=n(q,this.data,this.containers,a,b,Math.abs(a-c)||Math.abs(b-d),e);return this.cache=g,this.cache}}]),a}();b["default"]=z},function(a,b,c){"use strict";(function(a){function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?m(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var n=d(c(15)),o=d(c(144)),p=c(145),q=200,r=200,s=3,t=200,u=1.7,v=300,w=2.2,x=200,y=function(b){function c(a,b){var d;return f(this,c),d=i(this,j(c).call(this,a,b)),d.container=a,d.camera=b,d.enabled=!0,d.hasDragged=!1,d.downStartTime=null,d.lastMouseX=null,d.lastMouseY=null,d.isMouseDown=!1,d.isMoving=!1,d.movingTimeout=null,d.startCameraState=null,d.lastCameraState=null,d.clicks=0,d.doubleClickTimeout=null,d.wheelLock=!1,d.handleClick=d.handleClick.bind(m(m(d))),d.handleDown=d.handleDown.bind(m(m(d))),d.handleUp=d.handleUp.bind(m(m(d))),d.handleMove=d.handleMove.bind(m(m(d))),d.handleWheel=d.handleWheel.bind(m(m(d))),d.handleOut=d.handleOut.bind(m(m(d))),a.addEventListener("click",d.handleClick,!1),a.addEventListener("mousedown",d.handleDown,!1),a.addEventListener("mousemove",d.handleMove,!1),a.addEventListener("DOMMouseScroll",d.handleWheel,!1),a.addEventListener("mousewheel",d.handleWheel,!1),a.addEventListener("mouseout",d.handleOut,!1),document.addEventListener("mouseup",d.handleUp,!1),d}return k(c,b),h(c,[{key:"kill",value:function(){var a=this.container;a.removeEventListener("click",this.handleClick),a.removeEventListener("mousedown",this.handleDown),a.removeEventListener("mousemove",this.handleMove),a.removeEventListener("DOMMouseScroll",this.handleWheel),a.removeEventListener("mousewheel",this.handleWheel),a.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mouseup",this.handleUp)}},{key:"handleClick",value:function(a){var b=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null,this.handleDoubleClick(a);setTimeout(function(){b.clicks=0,b.doubleClickTimeout=null},v),this.hasDragged||this.emit("click",p.getMouseCoords(a))}}},{key:"handleDoubleClick",value:function(a){if(this.enabled){var b=p.getCenter(a),c=this.camera.getState(),d=c.ratio/w,e={width:this.container.offsetWidth,height:this.container.offsetHeight},f=p.getX(a),g=p.getY(a),h=new n["default"];h.ratio=d,h.x=c.x,h.y=c.y;var i=this.camera.viewportToGraph(e,f,g),j=this.camera.viewportToGraph(e,b.x,b.y),k=h.viewportToGraph(e,f,g),l=h.viewportToGraph(e,b.x,b.y),m=k.x-l.x-i.x+j.x,o=k.y-l.y-i.y+j.y;return this.camera.animate({x:c.x-m,y:c.y-o,ratio:d},{easing:"quadraticInOut",duration:x}),a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}}},{key:"handleDown",value:function(a){if(this.enabled)switch(this.startCameraState=this.camera.getState(),this.lastCameraState=this.startCameraState,this.lastMouseX=p.getX(a),this.lastMouseY=p.getY(a),this.hasDragged=!1,this.downStartTime=Date.now(),a.which){default:this.isMouseDown=!0,this.emit("mousedown",p.getMouseCoords(a))}}},{key:"handleUp",value:function(b){var c=this;if(this.enabled&&this.isMouseDown){this.isMouseDown=!1,this.movingTimeout&&(this.movingTimeout=null,clearTimeout(this.movingTimeout));var d=p.getX(b),e=p.getY(b),f=this.camera.getState(),g=this.camera.getPreviousState();this.isMoving?this.camera.animate({x:f.x+s*(f.x-g.x),y:f.y+s*(f.y-g.y)},{duration:r,easing:"quadraticOut"}):(this.lastMouseX!==d||this.lastMouseY!==e)&&this.camera.setState({x:f.x,y:f.y}),this.isMoving=!1,a(function(){return c.hasDragged=!1}),this.emit("mouseup",p.getMouseCoords(b))}}},{key:"handleMove",value:function(a){var b=this;if(this.enabled){if(this.emit("mousemove",p.getMouseCoords(a)),this.isMouseDown){this.isMoving=!0,this.hasDragged=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=setTimeout(function(){b.movingTimeout=null,b.isMoving=!1},q);var c={width:this.container.offsetWidth,height:this.container.offsetHeight},d=p.getX(a),e=p.getY(a),f=this.camera.viewportToGraph(c,this.lastMouseX,this.lastMouseY),g=this.camera.viewportToGraph(c,d,e),h=f.x-g.x,i=f.y-g.y,j=this.camera.getState(),k=j.x+h,l=j.y+i;this.camera.setState({x:k,y:l}),this.lastMouseX=d,this.lastMouseY=e}return a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!1}}},{key:"handleWheel",value:function(a){var b=this;if(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation(),!this.enabled)return!1;var c=p.getWheelDelta(a);if(!c)return!1;if(this.wheelLock)return!1;this.wheelLock=!0;var d=c>0?1/u:u,e=this.camera.getState(),f=d*e.ratio,g=p.getCenter(a),h={width:this.container.offsetWidth,height:this.container.offsetHeight},i=p.getX(a),j=p.getY(a),k=new n["default"];k.ratio=f,k.x=e.x,k.y=e.y;var l=this.camera.viewportToGraph(h,i,j),m=this.camera.viewportToGraph(h,g.x,g.y),o=k.viewportToGraph(h,i,j),q=k.viewportToGraph(h,g.x,g.y),r=o.x-q.x-l.x+m.x,s=o.y-q.y-l.y+m.y;return this.camera.animate({x:e.x-r,y:e.y-s,ratio:f},{easing:"linear",duration:t},function(){return b.wheelLock=!1}),!1}},{key:"handleOut",value:function(){}}]),c}(o["default"]);b["default"]=y}).call(b,c(141).setImmediate)},function(a,b,c){"use strict";function d(a,b){return g(a)||f(a,b)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function g(a){return Array.isArray(a)?a:void 0}function h(a,b){var c=document.createElement(a);if(!b)return c;for(var d in b)if("style"===d)for(var e in b[d])c.style[e]=b[d][e];else c.setAttribute(d,b[d]);return c}function i(){var a=window.screen;return"undefined"!=typeof a.deviceXDPI&&"undefined"!=typeof a.logicalXDPI&&a.deviceXDPI>a.logicalXDPI?a.systemXDPI/a.logicalXDPI:"undefined"!=typeof window.devicePixelRatio?window.devicePixelRatio:1}function j(a){var b,c=d(a.x,2),e=c[0],f=c[1],g=d(a.y,2),h=g[0],i=g[1],j=Math.max(f-e,i-h);0===j&&(j=1);var k=(f+e)/2,l=(i+h)/2;return b=function(a){return{x:.5+(a.x-k)/j,y:.5+(a.y-l)/j}},b.applyTo=function(a){a.x=.5+(a.x-k)/j,a.y=.5+(a.y-l)/j},b.inverse=function(a){return{x:k+j*(a.x-.5),y:l+j*(a.y-.5)}},b.ratio=j,b}Object.defineProperty(b,"__esModule",{value:!0}),b.createElement=h,b.getPixelRatio=i,b.createNormalizationFunction=j},function(a,b,c){"use strict";function d(a){return g(a)||f(a)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function g(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a){return function(){function b(c){h(this,b),this.programs=a.map(function(a){return new a(c)})}return j(b,[{key:"allocate",value:function(a){this.programs.forEach(function(b){return b.allocate(a)})}},{key:"process",value:function(){var a=arguments;this.programs.forEach(function(b){return b.process.apply(b,d(a))})}},{key:"computeIndices",value:function(){this.programs.forEach(function(a){"function"==typeof a.computeIndices&&a.computeIndices()})}},{key:"bufferData",value:function(){this.programs.forEach(function(a){return a.bufferData()})}},{key:"render",value:function(){var a=arguments;this.programs.forEach(function(b){b.bind(),b.bufferData(),b.render.apply(b,d(a))})}}]),b}()}Object.defineProperty(b,"__esModule",{value:!0}),b.createCompoundProgram=k,b["default"]=void 0;var l=c(150),m=function(){function a(b,c,d){h(this,a),this.vertexShaderSource=c,this.fragmentShaderSource=d,this.load(b)}return j(a,[{key:"load",value:function(a){return this.vertexShader=l.loadVertexShader(a,this.vertexShaderSource),this.fragmentShader=l.loadFragmentShader(a,this.fragmentShaderSource),this.program=l.loadProgram(a,[this.vertexShader,this.fragmentShader]),this.program}}]),a}();b["default"]=m},function(a,b,c){"use strict";function d(a,b,c){var d=c.labelSize,e=c.labelFont,f=c.labelWeight;a.fillStyle="#000",a.font="".concat(f," ").concat(d,"px ").concat(e),a.fillText(b.label,b.x+b.size+3,b.y+d/3)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d},function(a,b,c){var d=c(53);window.graphlayout={random:d},window.ForceAtlas2Layout=c(120),window.Graph=c(121),window.gexf=c(128),window.Sigma=c(138)},function(a,b,c){function d(a,b,c){if(!f(b))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");c=e(c,g);var d,h,i,j,k={},l=b.nodes(),m=c.center,n=c.rng,o=c.scale,p=l.length;for(j=0;p>j;j++)d=l[j],h=n()*o,i=n()*o,.5!==m&&(h+=m-.5*o,i+=m-.5*o),k[d]={x:h,y:i},a&&(b.setNodeAttribute(d,c.attributes.x,h),b.setNodeAttribute(d,c.attributes.y,i));return k}var e=c(54),f=c(10),g={attributes:{x:"x",y:"y"},center:.5,rng:Math.random,scale:1},h=d.bind(null,!1);h.assign=d.bind(null,!0),a.exports=h},function(a,b,c){var d=c(24),e=c(25),f=c(67),g=c(117),h=e(function(a){return a.push(void 0,f),d(g,void 0,a)});a.exports=h},function(a,b,c){function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=c(24),f=Math.max;a.exports=d},function(a,b,c){var d=c(57),e=c(66),f=e(d);a.exports=f},function(a,b,c){var d=c(58),e=c(27),f=c(26),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;a.exports=g},function(a,b){function c(a){return function(){return a}}a.exports=c},function(a,b,c){function d(a){if(!g(a)||f(a))return!1;var b=e(a)?o:j;return b.test(h(a))}var e=c(17),f=c(62),g=c(0),h=c(64),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=d},function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(e){}var f=h.call(a);return d&&(b?a[i]=c:delete a[i]),f}var e=c(28),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;a.exports=d},function(a,b){function c(a){return e.call(a)}var d=Object.prototype,e=d.toString;a.exports=c},function(a,b,c){function d(a){return!!f&&f in a}var e=c(63),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();a.exports=d},function(a,b,c){var d=c(1),e=d["__core-js_shared__"];a.exports=e},function(a,b){function c(a){if(null!=a){try{return e.call(a)}catch(b){}try{return a+""}catch(b){}}return""}var d=Function.prototype,e=d.toString;a.exports=c},function(a,b){function c(a,b){return null==a?void 0:a[b]}a.exports=c},function(a,b){function c(a){var b=0,c=0;return function(){var g=f(),h=e-(g-c);if(c=g,h>0){if(++b>=d)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var d=800,e=16,f=Date.now;a.exports=c},function(a,b,c){function d(a,b,c,g,h,i){return f(a)&&f(b)&&(i.set(b,a),e(a,b,void 0,d,i),i["delete"](b)),a}var e=c(30),f=c(0);a.exports=d},function(a,b,c){function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=c(5),f=c(74),g=c(75),h=c(76),i=c(77),j=c(78);d.prototype.clear=f,d.prototype["delete"]=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,a.exports=d},function(a,b){function c(){this.__data__=[],this.size=0}a.exports=c},function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():g.call(b,c,1),--this.size,!0}var e=c(6),f=Array.prototype,g=f.splice;a.exports=d},function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return 0>c?void 0:b[c][1]}var e=c(6);a.exports=d},function(a,b,c){function d(a){return e(this.__data__,a)>-1}var e=c(6);a.exports=d},function(a,b,c){function d(a,b){var c=this.__data__,d=e(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=c(6);a.exports=d},function(a,b,c){function d(){this.__data__=new e,this.size=0}var e=c(5);a.exports=d},function(a,b){function c(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}a.exports=c},function(a,b){function c(a){return this.__data__.get(a)}a.exports=c},function(a,b){function c(a){return this.__data__.has(a)}a.exports=c},function(a,b,c){function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=c(5),f=c(31),g=c(79),h=200;a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(80),f=c(87),g=c(89),h=c(90),i=c(91);d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b,c){function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=c(81),f=c(5),g=c(31);a.exports=d},function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=c(82),f=c(83),g=c(84),h=c(85),i=c(86);d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,a.exports=d},function(a,b,c){function d(){this.__data__=e?e(null):{},this.size=0}var e=c(8);a.exports=d},function(a,b){function c(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}a.exports=c},function(a,b,c){function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=c(8),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=c(8),f=Object.prototype,g=f.hasOwnProperty;a.exports=d},function(a,b,c){function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=c(8),f="__lodash_hash_undefined__";a.exports=d},function(a,b,c){function d(a){var b=e(this,a)["delete"](a);return this.size-=b?1:0,b}var e=c(9);a.exports=d},function(a,b){function c(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}a.exports=c},function(a,b,c){function d(a){return e(this,a).get(a)}var e=c(9);a.exports=d},function(a,b,c){function d(a){return e(this,a).has(a)}var e=c(9);a.exports=d},function(a,b,c){function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=c(9);a.exports=d},function(a,b,c){var d=c(93),e=d();a.exports=e},function(a,b){function c(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}a.exports=c},function(a,b,c){function d(a,b,c,d,t,u,v){var w=r(a,c),x=r(b,c),y=v.get(x);if(y)return void e(a,c,y);var z=u?u(w,x,c+"",a,b,v):void 0,A=void 0===z;if(A){var B=k(x),C=!B&&m(x),D=!B&&!C&&q(x);z=x,B||C||D?k(w)?z=w:l(w)?z=h(w):C?(A=!1,z=f(x,!0)):D?(A=!1,z=g(x,!0)):z=[]:p(x)||j(x)?(z=w,j(w)?z=s(w):(!o(w)||n(w))&&(z=i(x))):A=!1}A&&(v.set(x,z),t(z,x,d,u,v),v["delete"](x)),e(a,c,z)}var e=c(32),f=c(95),g=c(96),h=c(99),i=c(100),j=c(35),k=c(36),l=c(104),m=c(38),n=c(17),o=c(0),p=c(106),q=c(39),r=c(40),s=c(110);a.exports=d},function(a,b,c){(function(a){function d(a,b){if(b)return a.slice();var c=a.length,d=j?j(c):new a.constructor(c);return a.copy(d),d}var e=c(1),f="object"==typeof b&&b&&!b.nodeType&&b,g=f&&"object"==typeof a&&a&&!a.nodeType&&a,h=g&&g.exports===f,i=h?e.Buffer:void 0,j=i?i.allocUnsafe:void 0;a.exports=d}).call(b,c(20)(a))},function(a,b,c){function d(a,b){var c=b?e(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}var e=c(97);a.exports=d},function(a,b,c){function d(a){var b=new a.constructor(a.byteLength);return new e(b).set(new e(a)),b}var e=c(98);a.exports=d},function(a,b,c){var d=c(1),e=d.Uint8Array;a.exports=e},function(a,b){function c(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}a.exports=c},function(a,b,c){function d(a){return"function"!=typeof a.constructor||g(a)?{}:e(f(a))}var e=c(101),f=c(33),g=c(34);a.exports=d},function(a,b,c){var d=c(0),e=Object.create,f=function(){function a(){}return function(b){if(!d(b))return{};if(e)return e(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();a.exports=f},function(a,b){function c(a,b){return function(c){return a(b(c))}}a.exports=c},function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=c(4),f=c(2),g="[object Arguments]";a.exports=d},function(a,b,c){function d(a){return f(a)&&e(a)}var e=c(21),f=c(2);a.exports=d},function(a,b){function c(){return!1}a.exports=c},function(a,b,c){function d(a){if(!g(a)||e(a)!=h)return!1;var b=f(a);if(null===b)return!0;var c=l.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&k.call(c)==m}var e=c(4),f=c(33),g=c(2),h="[object Object]",i=Function.prototype,j=Object.prototype,k=i.toString,l=j.hasOwnProperty,m=k.call(Object);a.exports=d},function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!F[e(a)]}var e=c(4),f=c(37),g=c(2),h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object RegExp]",r="[object Set]",s="[object String]",t="[object WeakMap]",u="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",z="[object Int16Array]",A="[object Int32Array]",B="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",E="[object Uint32Array]",F={};F[w]=F[x]=F[y]=F[z]=F[A]=F[B]=F[C]=F[D]=F[E]=!0,F[h]=F[i]=F[u]=F[j]=F[v]=F[k]=F[l]=F[m]=F[n]=F[o]=F[p]=F[q]=F[r]=F[s]=F[t]=!1,a.exports=d},function(a,b){function c(a){return function(b){return a(b)}}a.exports=c},function(a,b,c){(function(a){var d=c(29),e="object"==typeof b&&b&&!b.nodeType&&b,f=e&&"object"==typeof a&&a&&!a.nodeType&&a,g=f&&f.exports===e,h=g&&d.process,i=function(){try{var a=f&&f.require&&f.require("util").types;return a?a:h&&h.binding&&h.binding("util")}catch(b){}}();a.exports=i}).call(b,c(20)(a))},function(a,b,c){function d(a){return e(a,f(a))}var e=c(111),f=c(41);a.exports=d},function(a,b,c){function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=c(112),f=c(19);a.exports=d},function(a,b,c){function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=c(19),f=c(7),g=Object.prototype,h=g.hasOwnProperty;a.exports=d},function(a,b,c){function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=c(114),f=c(35),g=c(36),h=c(38),i=c(42),j=c(39),k=Object.prototype,l=k.hasOwnProperty;a.exports=d},function(a,b){function c(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}a.exports=c},function(a,b,c){function d(a){if(!e(a))return g(a);var b=f(a),c=[];for(var d in a)("constructor"!=d||!b&&i.call(a,d))&&c.push(d);return c}var e=c(0),f=c(34),g=c(116),h=Object.prototype,i=h.hasOwnProperty;a.exports=d},function(a,b){function c(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b}a.exports=c},function(a,b,c){var d=c(30),e=c(118),f=e(function(a,b,c,e){d(a,b,c,e)});a.exports=f},function(a,b,c){function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=3>e?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=c(25),f=c(119);a.exports=d},function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=typeof b;return("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)?e(c[b],a):!1}var e=c(7),f=c(21),g=c(42),h=c(0);a.exports=d},function(a,b,c){!function(b,c){a.exports=c()}("undefined"!=typeof self?self:this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=1)}([function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(1,eval)("this")}catch(d){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){(function(b){function d(a,c){if(c=c||{},!f(a))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");
var d=g.assign({},h,c.settings),e=g.validateSettings(d);if(e)throw new Error("graphology-layout-forceatlas2/worker: "+e.message);this.worker=null,this.graph=a,this.settings=d,this.matrices=null,this.running=!1,this.killed=!1,this.handleMessage=this.handleMessage.bind(this);var i=!1,j=this;this.handleAddition=function(){i||(i=!0,j.spawnWorker(),b(function(){i=!1}))},a.on("nodeAdded",this.handleAddition),a.on("edgeAdded",this.handleAddition),this.spawnWorker()}var e=c(5),f=c(7),g=c(8),h=c(9);d.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=new e,this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())},d.prototype.handleMessage=function(a){if(this.running){var b=new Float32Array(a.data.nodes);g.applyLayoutChanges(this.graph,b),this.matrices.nodes=b,this.askForIterations()}},d.prototype.askForIterations=function(a){var b=this.matrices,c={settings:this.settings,nodes:b.nodes.buffer},d=[b.nodes.buffer];return a&&(c.edges=b.edges.buffer,d.push(b.edges.buffer)),this.worker.postMessage(c,d),this},d.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running?this:(this.matrices=g.graphToByteArrays(this.graph),this.running=!0,this.askForIterations(!0),this)},d.prototype.stop=function(){return this.running=!1,this},d.prototype.kill=function(){return this.killed?this:(this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleAddition),void this.graph.removeListener("edgeAdded",this.handleAddition))},a.exports=d}).call(b,c(2).setImmediate)},function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e="undefined"!=typeof a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(3),b.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof a&&a.setImmediate||this&&this.setImmediate,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof a&&a.clearImmediate||this&&this.clearImmediate}).call(b,c(0))},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return p[o]=d,n(o),o++}function e(a){delete p[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(q)setTimeout(g,0,a);else{var b=p[a];if(b){q=!0;try{f(b)}finally{e(a),q=!1}}}}function h(){n=function(a){b.nextTick(function(){g(a)})}}function i(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function j(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),n=function(c){a.postMessage(b+c,"*")}}function k(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;g(b)},n=function(b){a.port2.postMessage(b)}}function l(){var a=r.documentElement;n=function(b){var c=r.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function m(){n=function(a){setTimeout(g,0,a)}}if(!a.setImmediate){var n,o=1,p={},q=!1,r=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a);s=s&&s.setTimeout?s:a,"[object process]"==={}.toString.call(a.process)?h():i()?j():a.MessageChannel?k():r&&"onreadystatechange"in r.createElement("script")?l():m(),s.setImmediate=d,s.clearImmediate=e}}("undefined"==typeof self?"undefined"==typeof a?this:a:self)}).call(b,c(0),c(4))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){a.exports=function(){return c(6)("/******/ (function(modules) { // webpackBootstrap\n/******/ 	// The module cache\n/******/ 	var installedModules = {};\n/******/\n/******/ 	// The require function\n/******/ 	function __webpack_require__(moduleId) {\n/******/\n/******/ 		// Check if module is in cache\n/******/ 		if(installedModules[moduleId]) {\n/******/ 			return installedModules[moduleId].exports;\n/******/ 		}\n/******/ 		// Create a new module (and put it into the cache)\n/******/ 		var module = installedModules[moduleId] = {\n/******/ 			i: moduleId,\n/******/ 			l: false,\n/******/ 			exports: {}\n/******/ 		};\n/******/\n/******/ 		// Execute the module function\n/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ 		// Flag the module as loaded\n/******/ 		module.l = true;\n/******/\n/******/ 		// Return the exports of the module\n/******/ 		return module.exports;\n/******/ 	}\n/******/\n/******/\n/******/ 	// expose the modules object (__webpack_modules__)\n/******/ 	__webpack_require__.m = modules;\n/******/\n/******/ 	// expose the module cache\n/******/ 	__webpack_require__.c = installedModules;\n/******/\n/******/ 	// define getter function for harmony exports\n/******/ 	__webpack_require__.d = function(exports, name, getter) {\n/******/ 		if(!__webpack_require__.o(exports, name)) {\n/******/ 			Object.defineProperty(exports, name, {\n/******/ 				configurable: false,\n/******/ 				enumerable: true,\n/******/ 				get: getter\n/******/ 			});\n/******/ 		}\n/******/ 	};\n/******/\n/******/ 	// getDefaultExport function for compatibility with non-harmony modules\n/******/ 	__webpack_require__.n = function(module) {\n/******/ 		var getter = module && module.__esModule ?\n/******/ 			function getDefault() { return module['default']; } :\n/******/ 			function getModuleExports() { return module; };\n/******/ 		__webpack_require__.d(getter, 'a', getter);\n/******/ 		return getter;\n/******/ 	};\n/******/\n/******/ 	// Object.prototype.hasOwnProperty.call\n/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ 	// __webpack_public_path__\n/******/ 	__webpack_require__.p = \"\";\n/******/\n/******/ 	// Load entry module and return exports\n/******/ 	return __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Graphology ForceAtlas2 Layout Webworker\n * ========================================\n *\n * Web worker able to run the layout in a separate thread.\n */\nvar iterate = __webpack_require__(1);\n\nvar NODES,\n    EDGES;\n\nself.addEventListener('message', function(event) {\n  var data = event.data;\n\n  NODES = new Float32Array(data.nodes);\n\n  if (data.edges)\n    EDGES = new Float32Array(data.edges);\n\n  // Running the iteration\n  iterate(\n    data.settings,\n    NODES,\n    EDGES\n  );\n\n  // Sending result to supervisor\n  self.postMessage({\n    nodes: NODES.buffer\n  }, [NODES.buffer]);\n});\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n/* eslint no-constant-condition: 0 */\n/**\n * Graphology ForceAtlas2 Iteration\n * =================================\n *\n * Function used to perform a single iteration of the algorithm.\n */\n\n/**\n * Matrices properties accessors.\n */\nvar NODE_X = 0,\n    NODE_Y = 1,\n    NODE_DX = 2,\n    NODE_DY = 3,\n    NODE_OLD_DX = 4,\n    NODE_OLD_DY = 5,\n    NODE_MASS = 6,\n    NODE_CONVERGENCE = 7,\n    NODE_SIZE = 8,\n    NODE_FIXED = 9;\n\nvar EDGE_SOURCE = 0,\n    EDGE_TARGET = 1,\n    EDGE_WEIGHT = 2;\n\nvar REGION_NODE = 0,\n    REGION_CENTER_X = 1,\n    REGION_CENTER_Y = 2,\n    REGION_SIZE = 3,\n    REGION_NEXT_SIBLING = 4,\n    REGION_FIRST_CHILD = 5,\n    REGION_MASS = 6,\n    REGION_MASS_CENTER_X = 7,\n    REGION_MASS_CENTER_Y = 8;\n\nvar SUBDIVISION_ATTEMPTS = 3;\n\n/**\n * Constants.\n */\nvar PPN = 10,\n    PPE = 3,\n    PPR = 9;\n\nvar MAX_FORCE = 10;\n\n/**\n * Function used to perform a single interation of the algorithm.\n *\n * @param  {object}       options    - Layout options.\n * @param  {Float32Array} NodeMatrix - Node data.\n * @param  {Float32Array} EdgeMatrix - Edge data.\n * @return {object}                  - Some metadata.\n */\nmodule.exports = function iterate(options, NodeMatrix, EdgeMatrix) {\n\n  // Initializing variables\n  var l, r, n, n1, n2, e, w, g;\n\n  var order = NodeMatrix.length,\n      size = EdgeMatrix.length;\n\n  var outboundAttCompensation,\n      coefficient,\n      xDist,\n      yDist,\n      ewc,\n      distance,\n      factor;\n\n  var RegionMatrix = [];\n\n  // 1) Initializing layout data\n  //-----------------------------\n\n  // Resetting positions & computing max values\n  for (n = 0; n < order; n += PPN) {\n    NodeMatrix[n + NODE_OLD_DX] = NodeMatrix[n + NODE_DX];\n    NodeMatrix[n + NODE_OLD_DY] = NodeMatrix[n + NODE_DY];\n    NodeMatrix[n + NODE_DX] = 0;\n    NodeMatrix[n + NODE_DY] = 0;\n  }\n\n  // If outbound attraction distribution, compensate\n  if (options.outboundAttractionDistribution) {\n    outboundAttCompensation = 0;\n    for (n = 0; n < order; n += PPN) {\n      outboundAttCompensation += NodeMatrix[n + NODE_MASS];\n    }\n\n    outboundAttCompensation /= order;\n  }\n\n\n  // 1.bis) Barnes-Hut computation\n  //------------------------------\n\n  if (options.barnesHutOptimize) {\n\n    // Setting up\n    var minX = Infinity,\n        maxX = -Infinity,\n        minY = Infinity,\n        maxY = -Infinity,\n        q, q2, subdivisionAttempts;\n\n    // Computing min and max values\n    for (n = 0; n < order; n += PPN) {\n      minX = Math.min(minX, NodeMatrix[n + NODE_X]);\n      maxX = Math.max(maxX, NodeMatrix[n + NODE_X]);\n      minY = Math.min(minY, NodeMatrix[n + NODE_Y]);\n      maxY = Math.max(maxY, NodeMatrix[n + NODE_Y]);\n    }\n\n    // squarify bounds, it's a quadtree\n    var dx = maxX - minX, dy = maxY - minY;\n    if (dx > dy) {\n      minY -= (dx - dy) / 2;\n      maxY = minY + dx;\n    }\n    else {\n      minX -= (dy - dx) / 2;\n      maxX = minX + dy;\n    }\n\n    // Build the Barnes Hut root region\n    RegionMatrix[0 + REGION_NODE] = -1;\n    RegionMatrix[0 + REGION_CENTER_X] = (minX + maxX) / 2;\n    RegionMatrix[0 + REGION_CENTER_Y] = (minY + maxY) / 2;\n    RegionMatrix[0 + REGION_SIZE] = Math.max(maxX - minX, maxY - minY);\n    RegionMatrix[0 + REGION_NEXT_SIBLING] = -1;\n    RegionMatrix[0 + REGION_FIRST_CHILD] = -1;\n    RegionMatrix[0 + REGION_MASS] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_X] = 0;\n    RegionMatrix[0 + REGION_MASS_CENTER_Y] = 0;\n\n    // Add each node in the tree\n    l = 1;\n    for (n = 0; n < order; n += PPN) {\n\n      // Current region, starting with root\n      r = 0;\n      subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n\n      while (true) {\n        // Are there sub-regions?\n\n        // We look at first child index\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n\n          // There are sub-regions\n\n          // We just iterate to find a \"leaf\" of the tree\n          // that is an empty region or a region with a single node\n          // (see next case)\n\n          // Find the quadrant of n\n          if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n              // Top Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD];\n            }\n            else {\n\n              // Bottom Left quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n            }\n          }\n          else {\n            if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n              // Top Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n            }\n            else {\n\n              // Bottom Right quarter\n              q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n            }\n          }\n\n          // Update center of mass and mass (we only do it for non-leave regions)\n          RegionMatrix[r + REGION_MASS_CENTER_X] =\n            (RegionMatrix[r + REGION_MASS_CENTER_X] * RegionMatrix[r + REGION_MASS] +\n             NodeMatrix[n + NODE_X] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS_CENTER_Y] =\n            (RegionMatrix[r + REGION_MASS_CENTER_Y] * RegionMatrix[r + REGION_MASS] +\n             NodeMatrix[n + NODE_Y] * NodeMatrix[n + NODE_MASS]) /\n            (RegionMatrix[r + REGION_MASS] + NodeMatrix[n + NODE_MASS]);\n\n          RegionMatrix[r + REGION_MASS] += NodeMatrix[n + NODE_MASS];\n\n          // Iterate on the right quadrant\n          r = q;\n          continue;\n        }\n        else {\n\n          // There are no sub-regions: we are in a \"leaf\"\n\n          // Is there a node in this leave?\n          if (RegionMatrix[r + REGION_NODE] < 0) {\n\n            // There is no node in region:\n            // we record node n and go on\n            RegionMatrix[r + REGION_NODE] = n;\n            break;\n          }\n          else {\n\n            // There is a node in this region\n\n            // We will need to create sub-regions, stick the two\n            // nodes (the old one r[0] and the new one n) in two\n            // subregions. If they fall in the same quadrant,\n            // we will iterate.\n\n            // Create sub-regions\n            RegionMatrix[r + REGION_FIRST_CHILD] = l * PPR;\n            w = RegionMatrix[r + REGION_SIZE] / 2; // new size (half)\n\n            // NOTE: we use screen coordinates\n            // from Top Left to Bottom Right\n\n            // Top Left sub-region\n            g = RegionMatrix[r + REGION_FIRST_CHILD];\n\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Left sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] - w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Top Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] - w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = g + PPR;\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            // Bottom Right sub-region\n            g += PPR;\n            RegionMatrix[g + REGION_NODE] = -1;\n            RegionMatrix[g + REGION_CENTER_X] = RegionMatrix[r + REGION_CENTER_X] + w;\n            RegionMatrix[g + REGION_CENTER_Y] = RegionMatrix[r + REGION_CENTER_Y] + w;\n            RegionMatrix[g + REGION_SIZE] = w;\n            RegionMatrix[g + REGION_NEXT_SIBLING] = RegionMatrix[r + REGION_NEXT_SIBLING];\n            RegionMatrix[g + REGION_FIRST_CHILD] = -1;\n            RegionMatrix[g + REGION_MASS] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_X] = 0;\n            RegionMatrix[g + REGION_MASS_CENTER_Y] = 0;\n\n            l += 4;\n\n            // Now the goal is to find two different sub-regions\n            // for the two nodes: the one previously recorded (r[0])\n            // and the one we want to add (n)\n\n            // Find the quadrant of the old node\n            if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD];\n              }\n              else {\n\n                // Bottom Left quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            }\n            else {\n              if (NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              }\n              else {\n\n                // Bottom Right quarter\n                q = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            // We remove r[0] from the region r, add its mass to r and record it in q\n            RegionMatrix[r + REGION_MASS] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS];\n            RegionMatrix[r + REGION_MASS_CENTER_X] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            RegionMatrix[r + REGION_MASS_CENTER_Y] = NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            RegionMatrix[q + REGION_NODE] = RegionMatrix[r + REGION_NODE];\n            RegionMatrix[r + REGION_NODE] = -1;\n\n            // Find the quadrant of n\n            if (NodeMatrix[n + NODE_X] < RegionMatrix[r + REGION_CENTER_X]) {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD];\n              }\n              else {\n                // Bottom Left quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR;\n              }\n            }\n            else {\n              if (NodeMatrix[n + NODE_Y] < RegionMatrix[r + REGION_CENTER_Y]) {\n\n                // Top Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 2;\n              }\n              else {\n\n                // Bottom Right quarter\n                q2 = RegionMatrix[r + REGION_FIRST_CHILD] + PPR * 3;\n              }\n            }\n\n            if (q === q2) {\n\n              // If both nodes are in the same quadrant,\n              // we have to try it again on this quadrant\n              if (subdivisionAttempts--) {\n                r = q;\n                continue; // while\n              }\n              else {\n                // we are out of precision here, and we cannot subdivide anymore\n                // but we have to break the loop anyway\n                subdivisionAttempts = SUBDIVISION_ATTEMPTS;\n                break; // while\n              }\n\n            }\n\n            // If both quadrants are different, we record n\n            // in its quadrant\n            RegionMatrix[q2 + REGION_NODE] = n;\n            break;\n          }\n        }\n      }\n    }\n  }\n\n\n  // 2) Repulsion\n  //--------------\n  // NOTES: adjustSizes = antiCollision & scalingRatio = coefficient\n\n  if (options.barnesHutOptimize) {\n    coefficient = options.scalingRatio;\n\n    // Applying repulsion through regions\n    for (n = 0; n < order; n += PPN) {\n\n      // Computing leaf quad nodes iteration\n\n      r = 0; // Starting with root region\n      while (true) {\n\n        if (RegionMatrix[r + REGION_FIRST_CHILD] >= 0) {\n\n          // The region has sub-regions\n\n          // We run the Barnes Hut test to see if we are at the right distance\n          distance = Math.sqrt(\n            (Math.pow(NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X], 2)) +\n            (Math.pow(NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y], 2))\n          );\n\n          if (2 * RegionMatrix[r + REGION_SIZE] / distance < options.barnesHutTheta) {\n\n            // We treat the region as a single body, and we repulse\n\n            xDist = NodeMatrix[n + NODE_X] - RegionMatrix[r + REGION_MASS_CENTER_X];\n            yDist = NodeMatrix[n + NODE_Y] - RegionMatrix[r + REGION_MASS_CENTER_Y];\n\n            if (options.adjustSizes) {\n\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n              else if (distance < 0) {\n                factor = -coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n            else {\n\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  RegionMatrix[r + REGION_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n            // When this is done, we iterate. We have to look at the next sibling.\n            if (RegionMatrix[r + REGION_NEXT_SIBLING] < 0)\n              break; // No next sibling: we have finished the tree\n            r = RegionMatrix[r + REGION_NEXT_SIBLING];\n            continue;\n\n          }\n          else {\n\n            // The region is too close and we have to look at sub-regions\n            r = RegionMatrix[r + REGION_FIRST_CHILD];\n            continue;\n          }\n\n        }\n        else {\n\n          // The region has no sub-region\n          // If there is a node r[0] and it is not n, then repulse\n\n          if (RegionMatrix[r + REGION_NODE] >= 0 && RegionMatrix[r + REGION_NODE] !== n) {\n            xDist = NodeMatrix[n + NODE_X] - NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_X];\n            yDist = NodeMatrix[n + NODE_Y] - NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_Y];\n\n            distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n            if (options.adjustSizes) {\n\n              //-- Linear Anti-collision Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n              else if (distance < 0) {\n                factor = -coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n            else {\n\n              //-- Linear Repulsion\n              if (distance > 0) {\n                factor = coefficient * NodeMatrix[n + NODE_MASS] *\n                  NodeMatrix[RegionMatrix[r + REGION_NODE] + NODE_MASS] / distance / distance;\n\n                NodeMatrix[n + NODE_DX] += xDist * factor;\n                NodeMatrix[n + NODE_DY] += yDist * factor;\n              }\n            }\n\n          }\n\n          // When this is done, we iterate. We have to look at the next sibling.\n          if (RegionMatrix[r + REGION_NEXT_SIBLING] < 0)\n            break; // No next sibling: we have finished the tree\n          r = RegionMatrix[r + REGION_NEXT_SIBLING];\n          continue;\n        }\n      }\n    }\n  }\n  else {\n    coefficient = options.scalingRatio;\n\n    // Square iteration\n    for (n1 = 0; n1 < order; n1 += PPN) {\n      for (n2 = 0; n2 < n1; n2 += PPN) {\n\n        // Common to both methods\n        xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n        yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n        if (options.adjustSizes) {\n\n          //-- Anticollision Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist) -\n            NodeMatrix[n1 + NODE_SIZE] -\n            NodeMatrix[n2 + NODE_SIZE];\n\n          if (distance > 0) {\n            factor = coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS] /\n              distance / distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] += xDist * factor;\n            NodeMatrix[n2 + NODE_DY] += yDist * factor;\n          }\n          else if (distance < 0) {\n            factor = 100 * coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS];\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n        else {\n\n          //-- Linear Repulsion\n          distance = Math.sqrt(xDist * xDist + yDist * yDist);\n\n          if (distance > 0) {\n            factor = coefficient *\n              NodeMatrix[n1 + NODE_MASS] *\n              NodeMatrix[n2 + NODE_MASS] /\n              distance / distance;\n\n            // Updating nodes' dx and dy\n            NodeMatrix[n1 + NODE_DX] += xDist * factor;\n            NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n            NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n            NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n          }\n        }\n      }\n    }\n  }\n\n\n  // 3) Gravity\n  //------------\n  g = options.gravity / options.scalingRatio;\n  coefficient = options.scalingRatio;\n  for (n = 0; n < order; n += PPN) {\n    factor = 0;\n\n    // Common to both methods\n    xDist = NodeMatrix[n + NODE_X];\n    yDist = NodeMatrix[n + NODE_Y];\n    distance = Math.sqrt(\n      Math.pow(xDist, 2) + Math.pow(yDist, 2)\n    );\n\n    if (options.strongGravityMode) {\n\n      //-- Strong gravity\n      if (distance > 0)\n        factor = coefficient * NodeMatrix[n + NODE_MASS] * g;\n    }\n    else {\n\n      //-- Linear Anti-collision Repulsion n\n      if (distance > 0)\n        factor = coefficient * NodeMatrix[n + NODE_MASS] * g / distance;\n    }\n\n    // Updating node's dx and dy\n    NodeMatrix[n + NODE_DX] -= xDist * factor;\n    NodeMatrix[n + NODE_DY] -= yDist * factor;\n  }\n\n  // 4) Attraction\n  //---------------\n  coefficient = 1 *\n    (options.outboundAttractionDistribution ?\n      outboundAttCompensation :\n      1);\n\n  // TODO: simplify distance\n  // TODO: coefficient is always used as -c --> optimize?\n  for (e = 0; e < size; e += PPE) {\n    n1 = EdgeMatrix[e + EDGE_SOURCE];\n    n2 = EdgeMatrix[e + EDGE_TARGET];\n    w = EdgeMatrix[e + EDGE_WEIGHT];\n\n    // Edge weight influence\n    ewc = Math.pow(w, options.edgeWeightInfluence);\n\n    // Common measures\n    xDist = NodeMatrix[n1 + NODE_X] - NodeMatrix[n2 + NODE_X];\n    yDist = NodeMatrix[n1 + NODE_Y] - NodeMatrix[n2 + NODE_Y];\n\n    // Applying attraction to nodes\n    if (options.adjustSizes) {\n\n      distance = Math.sqrt(\n        (Math.pow(xDist, 2) + Math.pow(yDist, 2)) -\n        NodeMatrix[n1 + NODE_SIZE] -\n        NodeMatrix[n2 + NODE_SIZE]\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n\n          //-- LinLog Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) /\n            distance /\n            NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- LinLog Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) / distance;\n          }\n        }\n      }\n      else {\n        if (options.outboundAttractionDistribution) {\n\n          //-- Linear Degree Distributed Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc / NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- Linear Anti-collision Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc;\n          }\n        }\n      }\n    }\n    else {\n\n      distance = Math.sqrt(\n        Math.pow(xDist, 2) + Math.pow(yDist, 2)\n      );\n\n      if (options.linLogMode) {\n        if (options.outboundAttractionDistribution) {\n\n          //-- LinLog Degree Distributed Attraction\n          if (distance > 0) {\n            factor = -coefficient * ewc * Math.log(1 + distance) /\n              distance /\n              NodeMatrix[n1 + NODE_MASS];\n          }\n        }\n        else {\n\n          //-- LinLog Attraction\n          if (distance > 0)\n            factor = -coefficient * ewc * Math.log(1 + distance) / distance;\n        }\n      }\n      else {\n        if (options.outboundAttractionDistribution) {\n\n          //-- Linear Attraction Mass Distributed\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc / NodeMatrix[n1 + NODE_MASS];\n        }\n        else {\n\n          //-- Linear Attraction\n          // NOTE: Distance is set to 1 to override next condition\n          distance = 1;\n          factor = -coefficient * ewc;\n        }\n      }\n    }\n\n    // Updating nodes' dx and dy\n    // TODO: if condition or factor = 1?\n    if (distance > 0) {\n\n      // Updating nodes' dx and dy\n      NodeMatrix[n1 + NODE_DX] += xDist * factor;\n      NodeMatrix[n1 + NODE_DY] += yDist * factor;\n\n      NodeMatrix[n2 + NODE_DX] -= xDist * factor;\n      NodeMatrix[n2 + NODE_DY] -= yDist * factor;\n    }\n  }\n\n\n  // 5) Apply Forces\n  //-----------------\n  var force,\n      swinging,\n      traction,\n      nodespeed;\n\n  // MATH: sqrt and square distances\n  if (options.adjustSizes) {\n\n    for (n = 0; n < order; n += PPN) {\n      if (!NodeMatrix[n + NODE_FIXED]) {\n        force = Math.sqrt(\n          Math.pow(NodeMatrix[n + NODE_DX], 2) +\n          Math.pow(NodeMatrix[n + NODE_DY], 2)\n        );\n\n        if (force > MAX_FORCE) {\n          NodeMatrix[n + NODE_DX] =\n            NodeMatrix[n + NODE_DX] * MAX_FORCE / force;\n          NodeMatrix[n + NODE_DY] =\n            NodeMatrix[n + NODE_DY] * MAX_FORCE / force;\n        }\n\n        swinging = NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction = Math.sqrt(\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n        ) / 2;\n\n        nodespeed =\n          0.1 * Math.log(1 + traction) / (1 + Math.sqrt(swinging));\n\n        // Updating node's positon\n        NodeMatrix[n + NODE_X] =\n          NodeMatrix[n + NODE_X] + NodeMatrix[n + NODE_DX] *\n          (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] =\n          NodeMatrix[n + NODE_Y] + NodeMatrix[n + NODE_DY] *\n          (nodespeed / options.slowDown);\n      }\n    }\n  }\n  else {\n\n    for (n = 0; n < order; n += PPN) {\n      if (!NodeMatrix[n + NODE_FIXED]) {\n\n        swinging = NodeMatrix[n + NODE_MASS] *\n          Math.sqrt(\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) *\n            (NodeMatrix[n + NODE_OLD_DX] - NodeMatrix[n + NODE_DX]) +\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY]) *\n            (NodeMatrix[n + NODE_OLD_DY] - NodeMatrix[n + NODE_DY])\n          );\n\n        traction = Math.sqrt(\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) *\n          (NodeMatrix[n + NODE_OLD_DX] + NodeMatrix[n + NODE_DX]) +\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY]) *\n          (NodeMatrix[n + NODE_OLD_DY] + NodeMatrix[n + NODE_DY])\n        ) / 2;\n\n        nodespeed = NodeMatrix[n + NODE_CONVERGENCE] *\n          Math.log(1 + traction) / (1 + Math.sqrt(swinging));\n\n        // Updating node convergence\n        NodeMatrix[n + NODE_CONVERGENCE] =\n          Math.min(1, Math.sqrt(\n            nodespeed *\n            (Math.pow(NodeMatrix[n + NODE_DX], 2) +\n             Math.pow(NodeMatrix[n + NODE_DY], 2)) /\n            (1 + Math.sqrt(swinging))\n          ));\n\n        // Updating node's positon\n        NodeMatrix[n + NODE_X] =\n          NodeMatrix[n + NODE_X] + NodeMatrix[n + NODE_DX] *\n          (nodespeed / options.slowDown);\n        NodeMatrix[n + NODE_Y] =\n          NodeMatrix[n + NODE_Y] + NodeMatrix[n + NODE_DY] *\n          (nodespeed / options.slowDown);\n      }\n    }\n  }\n\n  // We return the information about the layout (no need to return the matrices)\n  return {};\n};\n\n\n/***/ })\n/******/ ]);",null);
}},function(a,b,c){"use strict";var d=window.URL||window.webkitURL;a.exports=function(a,b){try{try{var c;try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;c=new e,c.append(a),c=c.getBlob()}catch(f){c=new Blob([a])}return new Worker(d.createObjectURL(c))}catch(f){return new Worker("data:application/javascript,"+encodeURIComponent(a))}}catch(f){if(!b)throw Error("Inline worker is not supported");return new Worker(b)}}},function(a,b){a.exports=function(a){return null!==a&&"object"==typeof a&&"function"==typeof a.addUndirectedEdgeWithKey&&"function"==typeof a.dropNode&&"boolean"==typeof a.multi}},function(a,b){var c=10,d=3;b.assign=function(a){a=a||{};var b,c,d,e=Array.prototype.slice.call(arguments).slice(1);for(b=0,d=e.length;d>b;b++)if(e[b])for(c in e[b])a[c]=e[b][c];return a},b.validateSettings=function(a){return"linLogMode"in a&&"boolean"!=typeof a.linLogMode?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in a&&"boolean"!=typeof a.outboundAttractionDistribution?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in a&&"boolean"!=typeof a.adjustSizes?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in a&&"number"!=typeof a.edgeWeightInfluence&&a.edgeWeightInfluence<0?{message:"the `edgeWeightInfluence` setting should be a number >= 0."}:"scalingRatio"in a&&"number"!=typeof a.scalingRatio&&a.scalingRatio<0?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in a&&"boolean"!=typeof a.strongGravityMode?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in a&&"number"!=typeof a.gravity&&a.gravity<0?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in a&&"number"!=typeof a.slowDown&&a.slowDown<0?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in a&&"boolean"!=typeof a.barnesHutOptimize?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in a&&"number"!=typeof a.barnesHutTheta&&a.barnesHutTheta<0?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null},b.graphToByteArrays=function(a){var b,e,f=a.nodes(),g=a.edges(),h=f.length,i=g.length,j={},k=new Float32Array(h*c),l=new Float32Array(i*d);for(b=e=0;h>b;b++)j[f[b]]=e,k[e]=a.getNodeAttribute(f[b],"x"),k[e+1]=a.getNodeAttribute(f[b],"y"),k[e+2]=0,k[e+3]=0,k[e+4]=0,k[e+5]=0,k[e+6]=1+a.degree(f[b]),k[e+7]=1,k[e+8]=a.getNodeAttribute(f[b],"size")||1,k[e+9]=0,e+=c;for(b=e=0;i>b;b++)l[e]=j[a.source(g[b])],l[e+1]=j[a.target(g[b])],l[e+2]=a.getEdgeAttribute(g[b],"weight")||0,e+=d;return{nodes:k,edges:l}},b.applyLayoutChanges=function(a,b){for(var d=a.nodes(),e=0,f=0,g=b.length;g>e;e+=c)a.setNodeAttribute(d[f],"x",b[e]),a.setNodeAttribute(d[f],"y",b[e+1]),f++},b.collectLayoutChanges=function(a,b){for(var d=a.nodes(),e=Object.create(null),f=0,g=0,h=b.length;h>f;f+=c)e[d[g]]={x:b[f],y:b[f+1]},g++;return e}},function(a,b){a.exports={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5}}])})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a){a.from=function(b,c){var d=new a(c);return d["import"](b),d}}var i=c(11),j=c(122),k=d(j),l=c(3),m=function(a){function b(c){return e(this,b),f(this,a.call(this,i.assign({type:"directed"},c)))}return g(b,a),b}(k["default"]),n=function(a){function b(c){return e(this,b),f(this,a.call(this,i.assign({type:"undirected"},c)))}return g(b,a),b}(k["default"]),o=function(a){function b(c){return e(this,b),f(this,a.call(this,i.assign({multi:!0,type:"directed"},c)))}return g(b,a),b}(k["default"]),p=function(a){function b(c){return e(this,b),f(this,a.call(this,i.assign({multi:!0,type:"undirected"},c)))}return g(b,a),b}(k["default"]);h(k["default"]),h(m),h(n),h(o),h(p),k["default"].Graph=k["default"],k["default"].DirectedGraph=m,k["default"].UndirectedGraph=n,k["default"].MultiDirectedGraph=o,k["default"].MultiUndirectedGraph=p,k["default"].InvalidArgumentsGraphError=l.InvalidArgumentsGraphError,k["default"].NotFoundGraphError=l.NotFoundGraphError,k["default"].UsageGraphError=l.UsageGraphError,a.exports=k["default"]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b,c,d,e,f,g,h){if(!d&&"undirected"===a.type)throw new o.UsageGraphError("Graph."+b+": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.");if(d&&"directed"===a.type)throw new o.UsageGraphError("Graph."+b+": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.");if(h&&!v.isPlainObject(h))throw new o.InvalidArgumentsGraphError("Graph."+b+': invalid attributes. Expecting an object but got "'+h+'"');if(f=""+f,g=""+g,h=h||{},!a.allowSelfLoops&&f===g)throw new o.UsageGraphError("Graph."+b+': source & target are the same ("'+f+"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.");var i=a._nodes.get(f),j=a._nodes.get(g);if(!i)throw new o.NotFoundGraphError("Graph."+b+': source node "'+f+'" not found.');if(!j)throw new o.NotFoundGraphError("Graph."+b+': target node "'+g+'" not found.');var k={key:null,undirected:d,source:f,target:g,attributes:h};if(c&&(e=a._edgeKeyGenerator(k)),e=""+e,a._edges.has(e))throw new o.UsageGraphError("Graph."+b+': the "'+e+'" edge already exists in the graph.');if(!a.multi&&(d?"undefined"!=typeof i.undirected[g]:"undefined"!=typeof i.out[g]))throw new o.UsageGraphError("Graph."+b+': an edge linking "'+f+'" to "'+g+"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.");var l=d?p.UndirectedEdgeData:p.DirectedEdgeData,m=new l(e,c,i,j,h);return a._edges.set(e,m),f===g?d?i.undirectedSelfLoops++:i.directedSelfLoops++:d?(i.undirectedDegree++,j.undirectedDegree++):(i.outDegree++,j.inDegree++),q.updateStructureIndex(a,d,m,f,g,i,j),d?a._undirectedSize++:a._directedSize++,k.key=e,a.emit("edgeAdded",k),e}function i(a,b,c,d,e,f,g,h){if(!d&&"undirected"===a.type)throw new o.UsageGraphError("Graph."+b+": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.");if(d&&"directed"===a.type)throw new o.UsageGraphError("Graph."+b+": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.");if(h&&!v.isPlainObject(h))throw new o.InvalidArgumentsGraphError("Graph."+b+': invalid attributes. Expecting an object but got "'+h+'"');if(f=""+f,g=""+g,h=h||{},!a.allowSelfLoops&&f===g)throw new o.UsageGraphError("Graph."+b+': source & target are the same ("'+f+"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.");var i=a._nodes.get(f),j=a._nodes.get(g),k=void 0,l=null;if(!c&&(k=a._edges.get(e))){if(k.source!==f||k.target!==g||d&&(k.source!==g||k.target!==f))throw new o.UsageGraphError("Graph."+b+': inconsistency detected when attempting to merge the "'+e+'" edge with "'+f+'" source & "'+g+'" target vs. ('+k.source+", "+k.target+").");l=e}var m=void 0;if(l||a.multi||!i||(d?"undefined"==typeof i.undirected[g]:"undefined"==typeof i.out[g])||(m=v.getMatchingEdge(a,f,g,d?"undirected":"directed")),m)return h?(v.assign(m.attributes,h),l):l;var n={key:null,undirected:d,source:f,target:g,attributes:h};if(c&&(e=a._edgeKeyGenerator(n)),e=""+e,a._edges.has(e))throw new o.UsageGraphError("Graph."+b+': the "'+e+'" edge already exists in the graph.');i||(a.addNode(f),i=a._nodes.get(f),f===g&&(j=i)),j||(a.addNode(g),j=a._nodes.get(g));var r=d?p.UndirectedEdgeData:p.DirectedEdgeData;return k=new r(e,c,i,j,h),a._edges.set(e,k),f===g?d?i.undirectedSelfLoops++:i.directedSelfLoops++:d?(i.undirectedDegree++,j.undirectedDegree++):(i.outDegree++,j.inDegree++),q.updateStructureIndex(a,d,k,f,g,i,j),d?a._undirectedSize++:a._directedSize++,n.key=e,a.emit("edgeAdded",n),e}Object.defineProperty(b,"__esModule",{value:!0});var j=c(12),k=c(13),l=d(k),m=c(22),n=d(m),o=c(3),p=c(14),q=c(123),r=c(124),s=c(125),t=c(126),u=c(127),v=c(11),w=new Set(["directed","undirected","mixed"]),x=new Set(["domain","_events","_eventsCount","_maxListeners"]),y=[{name:function(a){return a+"Edge"},generateKey:!0},{name:function(a){return a+"DirectedEdge"},generateKey:!0,type:"directed"},{name:function(a){return a+"UndirectedEdge"},generateKey:!0,type:"undirected"},{name:function(a){return a+"EdgeWithKey"}},{name:function(a){return a+"DirectedEdgeWithKey"},type:"directed"},{name:function(a){return a+"UndirectedEdgeWithKey"},type:"undirected"}],z={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"},A=function(a){function b(c){e(this,b);var d=f(this,a.call(this));if(c=v.assign({},z,c),c.edgeKeyGenerator&&"function"!=typeof c.edgeKeyGenerator)throw new o.InvalidArgumentsGraphError("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \""+c.edgeKeyGenerator+'".');if("boolean"!=typeof c.multi)throw new o.InvalidArgumentsGraphError("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \""+c.multi+'".');if(!w.has(c.type))throw new o.InvalidArgumentsGraphError('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'+c.type+'".');if("boolean"!=typeof c.allowSelfLoops)throw new o.InvalidArgumentsGraphError("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \""+c.allowSelfLoops+'".');var g="mixed"===c.type?p.MixedNodeData:"directed"===c.type?p.DirectedNodeData:p.UndirectedNodeData;return v.privateProperty(d,"NodeDataClass",g),v.privateProperty(d,"_attributes",{}),v.privateProperty(d,"_nodes",new Map),v.privateProperty(d,"_edges",new Map),v.privateProperty(d,"_directedSize",0),v.privateProperty(d,"_undirectedSize",0),v.privateProperty(d,"_edgeKeyGenerator",c.edgeKeyGenerator||v.incrementalId()),v.privateProperty(d,"_options",c),x.forEach(function(a){return v.privateProperty(d,a,d[a])}),v.readOnlyProperty(d,"order",function(){return d._nodes.size}),v.readOnlyProperty(d,"size",function(){return d._edges.size}),v.readOnlyProperty(d,"directedSize",function(){return d._directedSize}),v.readOnlyProperty(d,"undirectedSize",function(){return d._undirectedSize}),v.readOnlyProperty(d,"multi",d._options.multi),v.readOnlyProperty(d,"type",d._options.type),v.readOnlyProperty(d,"allowSelfLoops",d._options.allowSelfLoops),d}return g(b,a),b.prototype.hasNode=function(a){return this._nodes.has(""+a)},b.prototype.hasDirectedEdge=function(a,b){if("undirected"===this.type)return!1;if(1===arguments.length){var c=""+a,d=this._edges.get(c);return!!d&&d instanceof p.DirectedEdgeData}if(2===arguments.length){a=""+a,b=""+b;var e=this._nodes.get(a);if(!e)return!1;var f=e.out[b];return f?this.multi?!!f.size:!0:!1}throw new o.InvalidArgumentsGraphError("Graph.hasDirectedEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},b.prototype.hasUndirectedEdge=function(a,b){if("directed"===this.type)return!1;if(1===arguments.length){var c=""+a,d=this._edges.get(c);return!!d&&d instanceof p.UndirectedEdgeData}if(2===arguments.length){a=""+a,b=""+b;var e=this._nodes.get(a);if(!e)return!1;var f=e.undirected[b];return f?this.multi?!!f.size:!0:!1}throw new o.InvalidArgumentsGraphError("Graph.hasDirectedEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},b.prototype.hasEdge=function(a,b){if(1===arguments.length){var c=""+a;return this._edges.has(c)}if(2===arguments.length){a=""+a,b=""+b;var d=this._nodes.get(a);if(!d)return!1;var e="undefined"!=typeof d.out&&d.out[b];return e||(e="undefined"!=typeof d.undirected&&d.undirected[b]),e?this.multi?!!e.size:!0:!1}throw new o.InvalidArgumentsGraphError("Graph.hasEdge: invalid arity ("+arguments.length+", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.")},b.prototype.directedEdge=function(a,b){if("undirected"!==this.type){if(a=""+a,b=""+b,this.multi)throw new o.UsageGraphError("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.directedEdge: could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new o.NotFoundGraphError('Graph.directedEdge: could not find the "'+b+'" target node in the graph.');var d=c.out&&c.out[b]||void 0;return d?d.key:void 0}},b.prototype.undirectedEdge=function(a,b){if("directed"!==this.type){if(a=""+a,b=""+b,this.multi)throw new o.UsageGraphError("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.undirectedEdge: could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new o.NotFoundGraphError('Graph.undirectedEdge: could not find the "'+b+'" target node in the graph.');var d=c.undirected&&c.undirected[b]||void 0;return d?d.key:void 0}},b.prototype.edge=function(a,b){if(this.multi)throw new o.UsageGraphError("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");a=""+a,b=""+b;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.edge: could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new o.NotFoundGraphError('Graph.edge: could not find the "'+b+'" target node in the graph.');var d=c.out&&c.out[b]||c.undirected&&c.undirected[b]||void 0;return d?d.key:void 0},b.prototype.inDegree=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;if("boolean"!=typeof b)throw new o.InvalidArgumentsGraphError('Graph.inDegree: Expecting a boolean but got "'+b+'" for the second parameter (allowing self-loops to be counted).');a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.inDegree: could not find the "'+a+'" node in the graph.');if("undirected"===this.type)return 0;var d=b?c.directedSelfLoops:0;return c.inDegree+d},b.prototype.outDegree=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;if("boolean"!=typeof b)throw new o.InvalidArgumentsGraphError('Graph.outDegree: Expecting a boolean but got "'+b+'" for the second parameter (allowing self-loops to be counted).');a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.outDegree: could not find the "'+a+'" node in the graph.');if("undirected"===this.type)return 0;var d=b?c.directedSelfLoops:0;return c.outDegree+d},b.prototype.directedDegree=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;if("boolean"!=typeof b)throw new o.InvalidArgumentsGraphError('Graph.directedDegree: Expecting a boolean but got "'+b+'" for the second parameter (allowing self-loops to be counted).');if(a=""+a,!this.hasNode(a))throw new o.NotFoundGraphError('Graph.directedDegree: could not find the "'+a+'" node in the graph.');return"undirected"===this.type?0:this.inDegree(a,b)+this.outDegree(a,b)},b.prototype.undirectedDegree=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;if("boolean"!=typeof b)throw new o.InvalidArgumentsGraphError('Graph.undirectedDegree: Expecting a boolean but got "'+b+'" for the second parameter (allowing self-loops to be counted).');if(a=""+a,!this.hasNode(a))throw new o.NotFoundGraphError('Graph.undirectedDegree: could not find the "'+a+'" node in the graph.');if("directed"===this.type)return 0;var c=this._nodes.get(a),d=b?2*c.undirectedSelfLoops:0;return c.undirectedDegree+d},b.prototype.degree=function c(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;if("boolean"!=typeof b)throw new o.InvalidArgumentsGraphError('Graph.degree: Expecting a boolean but got "'+b+'" for the second parameter (allowing self-loops to be counted).');if(a=""+a,!this.hasNode(a))throw new o.NotFoundGraphError('Graph.degree: could not find the "'+a+'" node in the graph.');var c=0;return"undirected"!==this.type&&(c+=this.directedDegree(a,b)),"directed"!==this.type&&(c+=this.undirectedDegree(a,b)),c},b.prototype.source=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.source: could not find the "'+a+'" edge in the graph.');return b.source.key},b.prototype.target=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.target: could not find the "'+a+'" edge in the graph.');return b.target.key},b.prototype.extremities=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.extremities: could not find the "'+a+'" edge in the graph.');return[b.source.key,b.target.key]},b.prototype.opposite=function(a,b){if(a=""+a,b=""+b,!this._nodes.has(a))throw new o.NotFoundGraphError('Graph.opposite: could not find the "'+a+'" node in the graph.');var c=this._edges.get(b);if(!c)throw new o.NotFoundGraphError('Graph.opposite: could not find the "'+b+'" edge in the graph.');var d=c.source,e=c.target,f=d.key,g=e.key;if(a!==f&&a!==g)throw new o.NotFoundGraphError('Graph.opposite: the "'+a+'" node is not attached to the "'+b+'" edge ('+f+", "+g+").");return a===f?g:f},b.prototype.undirected=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.undirected: could not find the "'+a+'" edge in the graph.');return b instanceof p.UndirectedEdgeData},b.prototype.directed=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.directed: could not find the "'+a+'" edge in the graph.');return b instanceof p.DirectedEdgeData},b.prototype.selfLoop=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.selfLoop: could not find the "'+a+'" edge in the graph.');return b.source===b.target},b.prototype.addNode=function(a,b){if(b&&!v.isPlainObject(b))throw new o.InvalidArgumentsGraphError('Graph.addNode: invalid attributes. Expecting an object but got "'+b+'"');if(a=""+a,b=b||{},this._nodes.has(a))throw new o.UsageGraphError('Graph.addNode: the "'+a+'" node already exist in the graph.');var c=new this.NodeDataClass(a,b);return this._nodes.set(a,c),this.emit("nodeAdded",{key:a,attributes:b}),a},b.prototype.mergeNode=function(a,b){if(b&&!v.isPlainObject(b))throw new o.InvalidArgumentsGraphError('Graph.mergeNode: invalid attributes. Expecting an object but got "'+b+'"');a=""+a,b=b||{};var c=this._nodes.get(a);return c?(b&&v.assign(c.attributes,b),a):(c=new this.NodeDataClass(a,b),this._nodes.set(a,c),this.emit("nodeAdded",{key:a,attributes:b}),a)},b.prototype.dropNode=function(a){if(a=""+a,!this.hasNode(a))throw new o.NotFoundGraphError('Graph.dropNode: could not find the "'+a+'" node in the graph.');for(var b=this.edges(a),c=0,d=b.length;d>c;c++)this.dropEdge(b[c]);var e=this._nodes.get(a);this._nodes["delete"](a),this.emit("nodeDropped",{key:a,attributes:e.attributes})},b.prototype.dropEdge=function(a){var b=void 0;if(arguments.length>1){var c=""+arguments[0],d=""+arguments[1];if(b=v.getMatchingEdge(this,c,d,this.type),!b)throw new o.NotFoundGraphError('Graph.dropEdge: could not find the "'+c+'" -> "'+d+'" edge in the graph.')}else if(a=""+a,b=this._edges.get(a),!b)throw new o.NotFoundGraphError('Graph.dropEdge: could not find the "'+a+'" edge in the graph.');this._edges["delete"](b.key);var e=b,f=e.source,g=e.target,h=e.attributes,i=b instanceof p.UndirectedEdgeData;return f===g?f.selfLoops--:i?(f.undirectedDegree--,g.undirectedDegree--):(f.outDegree--,g.inDegree--),q.clearEdgeFromStructureIndex(this,i,b),i?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:a,attributes:h,source:f.key,target:g.key,undirected:i}),this},b.prototype.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},b.prototype.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},b.prototype.getAttribute=function(a){return this._attributes[a]},b.prototype.getAttributes=function(){return this._attributes},b.prototype.hasAttribute=function(a){return this._attributes.hasOwnProperty(a)},b.prototype.setAttribute=function(a,b){return this._attributes[a]=b,this.emit("attributesUpdated",{type:"set",meta:{name:a,value:b}}),this},b.prototype.updateAttribute=function(a,b){if("function"!=typeof b)throw new o.InvalidArgumentsGraphError("Graph.updateAttribute: updater should be a function.");return this._attributes[a]=b(this._attributes[a]),this.emit("attributesUpdated",{type:"set",meta:{name:a,value:this._attributes[a]}}),this},b.prototype.removeAttribute=function(a){return delete this._attributes[a],this.emit("attributesUpdated",{type:"remove",meta:{name:a}}),this},b.prototype.replaceAttributes=function(a){if(!v.isPlainObject(a))throw new o.InvalidArgumentsGraphError("Graph.replaceAttributes: provided attributes are not a plain object.");var b=this._attributes;return this._attributes=a,this.emit("attributesUpdated",{type:"replace",meta:{before:b,after:a}}),this},b.prototype.mergeAttributes=function(a){if(!v.isPlainObject(a))throw new o.InvalidArgumentsGraphError("Graph.mergeAttributes: provided attributes are not a plain object.");return this._attributes=v.assign(this._attributes,a),this.emit("attributesUpdated",{type:"merge",meta:{data:this._attributes}}),this},b.prototype.getNodeAttribute=function(a,b){a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.getNodeAttribute: could not find the "'+a+'" node in the graph.');return c.attributes[b]},b.prototype.getNodeAttributes=function(a){a=""+a;var b=this._nodes.get(a);if(!b)throw new o.NotFoundGraphError('Graph.getNodeAttributes: could not find the "'+a+'" node in the graph.');return b.attributes},b.prototype.hasNodeAttribute=function(a,b){a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.hasNodeAttribute: could not find the "'+a+'" node in the graph.');return c.attributes.hasOwnProperty(b)},b.prototype.setNodeAttribute=function(a,b,c){a=""+a;var d=this._nodes.get(a);if(!d)throw new o.NotFoundGraphError('Graph.setNodeAttribute: could not find the "'+a+'" node in the graph.');if(arguments.length<3)throw new o.InvalidArgumentsGraphError("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return d.attributes[b]=c,this.emit("nodeAttributesUpdated",{key:a,type:"set",meta:{name:b,value:c}}),this},b.prototype.updateNodeAttribute=function(a,b,c){a=""+a;var d=this._nodes.get(a);if(!d)throw new o.NotFoundGraphError('Graph.updateNodeAttribute: could not find the "'+a+'" node in the graph.');if(arguments.length<3)throw new o.InvalidArgumentsGraphError("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof c)throw new o.InvalidArgumentsGraphError("Graph.updateAttribute: updater should be a function.");var e=d.attributes;return e[b]=c(e[b]),this.emit("nodeAttributesUpdated",{key:a,type:"set",meta:{name:b,value:e[b]}}),this},b.prototype.removeNodeAttribute=function(a,b){a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.hasNodeAttribute: could not find the "'+a+'" node in the graph.');return delete c.attributes[b],this.emit("nodeAttributesUpdated",{key:a,type:"remove",meta:{name:b}}),this},b.prototype.replaceNodeAttributes=function(a,b){a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.replaceNodeAttributes: could not find the "'+a+'" node in the graph.');if(!v.isPlainObject(b))throw new o.InvalidArgumentsGraphError("Graph.replaceNodeAttributes: provided attributes are not a plain object.");var d=c.attributes;return c.attributes=b,this.emit("nodeAttributesUpdated",{key:a,type:"replace",meta:{before:d,after:b}}),this},b.prototype.mergeNodeAttributes=function(a,b){a=""+a;var c=this._nodes.get(a);if(!c)throw new o.NotFoundGraphError('Graph.mergeNodeAttributes: could not find the "'+a+'" node in the graph.');if(!v.isPlainObject(b))throw new o.InvalidArgumentsGraphError("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return v.assign(c.attributes,b),this.emit("nodeAttributesUpdated",{key:a,type:"merge",meta:{data:b}}),this},b.prototype.forEach=function(a){if("function"!=typeof a)throw new o.InvalidArgumentsGraphError("Graph.forEach: expecting a callback.");this._edges.forEach(function(b,c){var d=b.source,e=b.target;a(d.key,e.key,d.attributes,e.attributes,c,b.attributes)})},b.prototype.adjacency=function(){var a=this._edges.values();return new l["default"](function(){var b=a.next();if(b.done)return b;var c=b.value,d=c.source,e=c.target;return{done:!1,value:[d.key,e.key,d.attributes,e.attributes,c.key,c.attributes]}})},b.prototype.nodes=function(){return n["default"](this._nodes.keys(),this._nodes.size)},b.prototype.forEachNode=function(a){if("function"!=typeof a)throw new o.InvalidArgumentsGraphError("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(b,c){a(c,b.attributes)})},b.prototype.nodeEntries=function(){var a=this._nodes.values();return new l["default"](function(){var b=a.next();if(b.done)return b;var c=b.value;return{value:[c.key,c.attributes],done:!1}})},b.prototype.exportNode=function(a){a=""+a;var b=this._nodes.get(a);if(!b)throw new o.NotFoundGraphError('Graph.exportNode: could not find the "'+a+'" node in the graph.');return u.serializeNode(a,b)},b.prototype.exportEdge=function(a){a=""+a;var b=this._edges.get(a);if(!b)throw new o.NotFoundGraphError('Graph.exportEdge: could not find the "'+a+'" edge in the graph.');return u.serializeEdge(a,b)},b.prototype["export"]=function(){var a=new Array(this._nodes.size),b=0;this._nodes.forEach(function(c,d){a[b++]=u.serializeNode(d,c)});var c=new Array(this._edges.size);return b=0,this._edges.forEach(function(a,d){c[b++]=u.serializeEdge(d,a)}),{attributes:this.getAttributes(),nodes:a,edges:c}},b.prototype.importNode=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,c=u.validateSerializedNode(a);if(c){if("not-object"===c)throw new o.InvalidArgumentsGraphError('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===c)throw new o.InvalidArgumentsGraphError("Graph.importNode: no key provided.");if("invalid-attributes"===c)throw new o.InvalidArgumentsGraphError("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var d=a.key,e=a.attributes,f=void 0===e?{}:e;return b?this.mergeNode(d,f):this.addNode(d,f),this},b.prototype.importEdge=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1,c=u.validateSerializedEdge(a);if(c){if("not-object"===c)throw new o.InvalidArgumentsGraphError('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===c)throw new o.InvalidArgumentsGraphError("Graph.importEdge: missing souce.");if("no-target"===c)throw new o.InvalidArgumentsGraphError("Graph.importEdge: missing target.");if("invalid-attributes"===c)throw new o.InvalidArgumentsGraphError("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===c)throw new o.InvalidArgumentsGraphError("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var d=a.source,e=a.target,f=a.attributes,g=void 0===f?{}:f,h=a.undirected,i=void 0===h?!1:h,j=void 0;return"key"in a?(j=b?i?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:i?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,j.call(this,a.key,d,e,g)):(j=b?i?this.mergeUndirectedEdge:this.mergeDirectedEdge:i?this.addUndirectedEdge:this.addDirectedEdge,j.call(this,d,e,g)),this},b.prototype["import"]=function(a){var b=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!1;if(v.isGraph(a))return this["import"](a["export"](),c),this;if(!v.isPlainObject(a))throw new o.InvalidArgumentsGraphError("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(a.attributes){if(!v.isPlainObject(a.attributes))throw new o.InvalidArgumentsGraphError("Graph.import: invalid attributes. Expecting a plain object.");c?this.mergeAttributes(a.attributes):this.replaceAttributes(a.attributes)}return a.nodes&&a.nodes.forEach(function(a){return b.importNode(a,c)}),a.edges&&a.edges.forEach(function(a){return b.importEdge(a,c)}),this},b.prototype.emptyCopy=function(){return new b(this._options)},b.prototype.copy=function(){var a=new b(this._options);return a["import"](this),a},b.prototype.upgradeToMixed=function(){return"mixed"===this.type?this:(this._nodes.forEach(function(a){return a.upgradeToMixed()}),this._options.type="mixed",v.readOnlyProperty(this,"type",this._options.type),v.privateProperty(this,"NodeDataClass",p.MixedNodeData),this)},b.prototype.upgradeToMulti=function(){return this.multi?this:(this._options.multi=!0,v.readOnlyProperty(this,"multi",!0),q.upgradeStructureIndexToMulti(this),this)},b.prototype.clearIndex=function(){return q.clearStructureIndex(this),this},b.prototype.toJSON=function(){return this["export"]()},b.prototype.toString=function(){var a=this.order>1||0===this.order,b=this.size>1||0===this.size;return"Graph<"+v.prettyPrint(this.order)+" node"+(a?"s":"")+", "+v.prettyPrint(this.size)+" edge"+(b?"s":"")+">"},b.prototype.inspect=function(){var a=this,b={};this._nodes.forEach(function(a,c){b[c]=a.attributes});var c={},d={};this._edges.forEach(function(b,e){var f=b instanceof p.UndirectedEdgeData?"--":"->",g="",h="("+b.source.key+")"+f+"("+b.target.key+")";b.generatedKey?a.multi&&("undefined"==typeof d[h]?d[h]=0:d[h]++,g+=d[h]+". "):g+="["+e+"]: ",g+=h,c[g]=b.attributes});var e={};for(var f in this)this.hasOwnProperty(f)&&!x.has(f)&&"function"!=typeof this[f]&&(e[f]=this[f]);return e.attributes=this._attributes,e.nodes=b,e.edges=c,v.privateProperty(e,"constructor",this.constructor),e},b}(j.EventEmitter);b["default"]=A,"undefined"!=typeof Symbol&&(A.prototype[Symbol["for"]("nodejs.util.inspect.custom")]=A.prototype.inspect),y.forEach(function(a){["add","merge"].forEach(function(b){var c=a.name(b),d="add"===b?h:i;a.generateKey?A.prototype[c]=function(b,e,f){return d(this,c,!0,"undirected"===(a.type||this.type),null,b,e,f);
}:A.prototype[c]=function(b,e,f,g){return d(this,c,!1,"undirected"===(a.type||this.type),b,e,f,g)}})}),"undefined"!=typeof Symbol&&(A.prototype[Symbol.iterator]=A.prototype.adjacency),r.attachAttributesMethods(A),s.attachEdgeIterationMethods(A),t.attachNeighborIterationMethods(A)},function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){var h=a.multi,i=b?"undirected":"out",j=b?"undirected":"in",k=f[i][e];"undefined"==typeof k&&(k=h?new Set:c,f[i][e]=k),h&&k.add(c),d!==e&&"undefined"==typeof g[j][d]&&(g[j][d]=k)}function e(a,b,c){var d=a.multi,e=c.source,f=c.target,g=e.key,h=f.key,i=b?"undirected":"out",j=e[i],k=b?"undirected":"in";if(h in j)if(d){var l=j[h];1===l.size?(delete j[h],delete f[k][g]):l["delete"](c)}else delete j[h];if(!d){var m=f[k];delete m[g]}}function f(a){a._nodes.forEach(function(a){"undefined"!=typeof a["in"]&&(a["in"]={},a.out={}),"undefined"!=typeof a.undirected&&(a.undirected={})})}function g(a){a._nodes.forEach(function(b,c){if(b.out)for(var d in b.out){var e=new Set;e.add(b.out[d]),b.out[d]=e,a._nodes.get(d)["in"][c]=e}if(b.undirected)for(var f in b.undirected)if(!(f>c)){var g=new Set;g.add(b.undirected[f]),b.undirected[f]=g,a._nodes.get(f).undirected[c]=g}})}Object.defineProperty(b,"__esModule",{value:!0}),b.updateStructureIndex=d,b.clearEdgeFromStructureIndex=e,b.clearStructureIndex=f,b.upgradeStructureIndexToMulti=g},function(a,b,c){"use strict";function d(a,b,c,d){a.prototype[b]=function(a,e){var f=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var g=""+a,h=""+e;if(e=arguments[2],f=m.getMatchingEdge(this,g,h,c),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+g+'" - "'+h+'").')}else if(a=""+a,f=this._edges.get(a),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("mixed"!==c&&!(f instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return f.attributes[e]}}function e(a,b,c,d){a.prototype[b]=function(a){var e=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>1){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var f=""+a,g=""+arguments[1];if(e=m.getMatchingEdge(this,f,g,c),!e)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+f+'" - "'+g+'").')}else if(a=""+a,e=this._edges.get(a),!e)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("mixed"!==c&&!(e instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return e.attributes}}function f(a,b,c,d){a.prototype[b]=function(a,e){var f=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var g=""+a,h=""+e;if(e=arguments[2],f=m.getMatchingEdge(this,g,h,c),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+g+'" - "'+h+'").')}else if(a=""+a,f=this._edges.get(a),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("mixed"!==c&&!(f instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return f.attributes.hasOwnProperty(e)}}function g(a,b,c,d){a.prototype[b]=function(a,e,f){var g=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>3){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var h=""+a,i=""+e;if(e=arguments[2],f=arguments[3],g=m.getMatchingEdge(this,h,i,c),!g)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+h+'" - "'+i+'").')}else if(a=""+a,g=this._edges.get(a),!g)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("mixed"!==c&&!(g instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return g.attributes[e]=f,this.emit("edgeAttributesUpdated",{key:g.key,type:"set",meta:{name:e,value:f}}),this}}function h(a,b,c,d){a.prototype[b]=function(a,e,f){var g=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>3){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var h=""+a,i=""+e;if(e=arguments[2],f=arguments[3],g=m.getMatchingEdge(this,h,i,c),!g)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+h+'" - "'+i+'").')}else if(a=""+a,g=this._edges.get(a),!g)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("function"!=typeof f)throw new n.InvalidArgumentsGraphError("Graph."+b+": updater should be a function.");if("mixed"!==c&&!(g instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return g.attributes[e]=f(g.attributes[e]),this.emit("edgeAttributesUpdated",{key:g.key,type:"set",meta:{name:e,value:g.attributes[e]}}),this}}function i(a,b,c,d){a.prototype[b]=function(a,e){var f=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var g=""+a,h=""+e;if(e=arguments[2],f=m.getMatchingEdge(this,g,h,c),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+g+'" - "'+h+'").')}else if(a=""+a,f=this._edges.get(a),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if("mixed"!==c&&!(f instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return delete f.attributes[e],this.emit("edgeAttributesUpdated",{key:f.key,type:"remove",meta:{name:e}}),this}}function j(a,b,c,d){a.prototype[b]=function(a,e){var f=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var g=""+a,h=""+e;if(e=arguments[2],f=m.getMatchingEdge(this,g,h,c),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+g+'" - "'+h+'").')}else if(a=""+a,f=this._edges.get(a),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if(!m.isPlainObject(e))throw new n.InvalidArgumentsGraphError("Graph."+b+": provided attributes are not a plain object.");if("mixed"!==c&&!(f instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");var i=f.attributes;return f.attributes=e,this.emit("edgeAttributesUpdated",{key:f.key,type:"replace",meta:{before:i,after:e}}),this}}function k(a,b,c,d){a.prototype[b]=function(a,e){var f=void 0;if("mixed"!==this.type&&"mixed"!==c&&c!==this.type)throw new n.UsageGraphError("Graph."+b+": cannot find this type of edges in your "+this.type+" graph.");if(arguments.length>2){if(this.multi)throw new n.UsageGraphError("Graph."+b+": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.");var g=""+a,h=""+e;if(e=arguments[2],f=m.getMatchingEdge(this,g,h,c),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find an edge for the given path ("'+g+'" - "'+h+'").')}else if(a=""+a,f=this._edges.get(a),!f)throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" edge in the graph.');if(!m.isPlainObject(e))throw new n.InvalidArgumentsGraphError("Graph."+b+": provided attributes are not a plain object.");if("mixed"!==c&&!(f instanceof d))throw new n.NotFoundGraphError("Graph."+b+': could not find the "'+a+'" '+c+" edge in the graph.");return m.assign(f.attributes,e),this.emit("edgeAttributesUpdated",{key:f.key,type:"merge",meta:{data:e}}),this}}function l(a){p.forEach(function(b){var c=b.name,d=b.attacher;d(a,c("Edge"),"mixed",o.DirectedEdgeData),d(a,c("DirectedEdge"),"directed",o.DirectedEdgeData),d(a,c("UndirectedEdge"),"undirected",o.UndirectedEdgeData)})}Object.defineProperty(b,"__esModule",{value:!0}),b.attachAttributesMethods=l;var m=c(11),n=c(3),o=c(14),p=[{name:function(a){return"get"+a+"Attribute"},attacher:d},{name:function(a){return"get"+a+"Attributes"},attacher:e},{name:function(a){return"has"+a+"Attribute"},attacher:f},{name:function(a){return"set"+a+"Attribute"},attacher:g},{name:function(a){return"update"+a+"Attribute"},attacher:h},{name:function(a){return"remove"+a+"Attribute"},attacher:i},{name:function(a){return"replace"+a+"Attributes"},attacher:j},{name:function(a){return"merge"+a+"Attributes"},attacher:k}]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){for(var c in b)b[c]instanceof Set?b[c].forEach(function(b){return a.push(b.key)}):a.push(b[c].key)}function f(a,b){for(var c in a)if(a[c]instanceof Set)a[c].forEach(function(a){return b(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes)});else{var d=a[c];b(d.key,d.attributes,d.source.key,d.target.key,d.source.attributes,d.target.attributes)}}function g(a){var b=Object.keys(a),c=b.length,d=null,e=0;return new y["default"](function f(){var g=void 0;if(d){var h=d.next();if(h.done)return d=null,e++,f();g=h.value}else{if(e>=c)return{done:!0};var i=b[e];if(g=a[i],g instanceof Set)return d=g.values(),f();e++}return{done:!1,value:[g.key,g.attributes,g.source.key,g.target.key,g.source.attributes,g.target.attributes]}})}function h(a,b,c){c in b&&(b[c]instanceof Set?b[c].forEach(function(b){return a.push(b.key)}):a.push(b[c].key))}function i(a,b,c){if(b in a)if(a[b]instanceof Set)a[b].forEach(function(a){return c(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes)});else{var d=a[b];c(d.key,d.attributes,d.source.key,d.target.key,d.source.attributes,d.target.attributes)}}function j(a,b){var c=a[b];if(c instanceof Set){var d=c.values();return new y["default"](function(){var a=d.next();if(a.done)return a;var b=a.value;return{done:!1,value:[b.key,b.attributes,b.source.key,b.target.key,b.source.attributes,b.target.attributes]}})}return y["default"].of([c.key,c.attributes,c.source.key,c.target.key,c.source.attributes,c.target.attributes])}function k(a,b){if(0===a.size)return[];if("mixed"===b||b===a.type)return C["default"](a._edges.keys(),a._edges.size);var c="undirected"===b?a.undirectedSize:a.directedSize,d=new Array(c),e="undirected"===b,f=0;return a._edges.forEach(function(a,b){a instanceof E.UndirectedEdgeData===e&&(d[f++]=b)}),d}function l(a,b,c){if(0!==a.size)if("mixed"===b||b===a.type)a._edges.forEach(function(a,b){var d=a.attributes,e=a.source,f=a.target;c(b,d,e.key,f.key,e.attributes,f.attributes)});else{var d="undirected"===b;a._edges.forEach(function(a,b){if(a instanceof E.UndirectedEdgeData===d){var e=a.attributes,f=a.source,g=a.target;c(b,e,f.key,g.key,f.attributes,g.attributes)}})}}function m(a,b){if(0===a.size)return y["default"].empty();var c=void 0;return"mixed"===b?(c=a._edges.values(),new y["default"](function(){var a=c.next();if(a.done)return a;var b=a.value,d=[b.key,b.attributes,b.source.key,b.target.key,b.source.attributes,b.target.attributes];return{value:d,done:!1}})):(c=a._edges.values(),new y["default"](function d(){var a=c.next();if(a.done)return a;var e=a.value;if(e instanceof E.UndirectedEdgeData==("undirected"===b)){var f=[e.key,e.attributes,e.source.key,e.target.key,e.source.attributes,e.target.attributes];return{value:f,done:!1}}return d()}))}function n(a,b,c){var d=[];return"undirected"!==a&&("out"!==b&&e(d,c["in"]),"in"!==b&&e(d,c.out)),"directed"!==a&&e(d,c.undirected),d}function o(a,b,c,d){"undirected"!==a&&("out"!==b&&f(c["in"],d),"in"!==b&&f(c.out,d)),"directed"!==a&&f(c.undirected,d)}function p(a,b,c){var d=y["default"].empty();return"undirected"!==a&&("out"!==b&&"undefined"!=typeof c["in"]&&(d=A["default"](d,g(c["in"]))),"in"!==b&&"undefined"!=typeof c.out&&(d=A["default"](d,g(c.out)))),"directed"!==a&&"undefined"!=typeof c.undirected&&(d=A["default"](d,g(c.undirected))),d}function q(a,b,c,d){var e=[];return"undirected"!==a&&("undefined"!=typeof c["in"]&&"out"!==b&&h(e,c["in"],d),"undefined"!=typeof c.out&&"in"!==b&&h(e,c.out,d)),"directed"!==a&&"undefined"!=typeof c.undirected&&h(e,c.undirected,d),e}function r(a,b,c,d,e){"undirected"!==a&&("undefined"!=typeof c["in"]&&"out"!==b&&i(c["in"],d,e),"undefined"!=typeof c.out&&"in"!==b&&i(c.out,d,e)),"directed"!==a&&"undefined"!=typeof c.undirected&&i(c.undirected,d,e)}function s(a,b,c,d){var e=y["default"].empty();return"undirected"!==a&&("undefined"!=typeof c["in"]&&"out"!==b&&d in c["in"]&&(e=A["default"](e,j(c["in"],d))),"undefined"!=typeof c.out&&"in"!==b&&d in c.out&&(e=A["default"](e,j(c.out,d)))),"directed"!==a&&"undefined"!=typeof c.undirected&&d in c.undirected&&(e=A["default"](e,j(c.undirected,d))),e}function t(a,b){var c=b.name,d=b.type,e=b.direction;a.prototype[c]=function(a,b){if("mixed"!==d&&"mixed"!==this.type&&d!==this.type)return[];if(!arguments.length)return k(this,d);if(1===arguments.length){a=""+a;var f=this._nodes.get(a);if("undefined"==typeof f)throw new D.NotFoundGraphError("Graph."+c+': could not find the "'+a+'" node in the graph.');return n("mixed"===d?this.type:d,e,f)}if(2===arguments.length){a=""+a,b=""+b;var g=this._nodes.get(a);if(!g)throw new D.NotFoundGraphError("Graph."+c+':  could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new D.NotFoundGraphError("Graph."+c+':  could not find the "'+b+'" target node in the graph.');return q(d,e,g,b)}throw new D.InvalidArgumentsGraphError("Graph."+c+": too many arguments (expecting 0, 1 or 2 and got "+arguments.length+").")}}function u(a,b){var c=b.name,d=b.type,e=b.direction,f="forEach"+c[0].toUpperCase()+c.slice(1,-1);a.prototype[f]=function(a,b,c){if("mixed"===d||"mixed"===this.type||d===this.type){if(1===arguments.length)return c=a,l(this,d,c);if(2===arguments.length){a=""+a,c=b;var g=this._nodes.get(a);if("undefined"==typeof g)throw new D.NotFoundGraphError("Graph."+f+': could not find the "'+a+'" node in the graph.');return o("mixed"===d?this.type:d,e,g,c)}if(3===arguments.length){a=""+a,b=""+b;var h=this._nodes.get(a);if(!h)throw new D.NotFoundGraphError("Graph."+f+':  could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new D.NotFoundGraphError("Graph."+f+':  could not find the "'+b+'" target node in the graph.');return r(d,e,h,b,c)}throw new D.InvalidArgumentsGraphError("Graph."+f+": too many arguments (expecting 1, 2 or 3 and got "+arguments.length+").")}}}function v(a,b){var c=b.name,d=b.type,e=b.direction,f=c.slice(0,-1)+"Entries";a.prototype[f]=function(a,b){if("mixed"!==d&&"mixed"!==this.type&&d!==this.type)return y["default"].empty();if(!arguments.length)return m(this,d);if(1===arguments.length){a=""+a;var c=this._nodes.get(a);if(!c)throw new D.NotFoundGraphError("Graph."+f+': could not find the "'+a+'" node in the graph.');return p(d,e,c)}if(2===arguments.length){a=""+a,b=""+b;var g=this._nodes.get(a);if(!g)throw new D.NotFoundGraphError("Graph."+f+':  could not find the "'+a+'" source node in the graph.');if(!this._nodes.has(b))throw new D.NotFoundGraphError("Graph."+f+':  could not find the "'+b+'" target node in the graph.');return s(d,e,g,b)}throw new D.InvalidArgumentsGraphError("Graph."+f+": too many arguments (expecting 0, 1 or 2 and got "+arguments.length+").")}}function w(a){F.forEach(function(b){t(a,b),u(a,b),v(a,b)})}Object.defineProperty(b,"__esModule",{value:!0}),b.attachEdgeIteratorCreator=v,b.attachEdgeIterationMethods=w;var x=c(13),y=d(x),z=c(43),A=d(z),B=c(22),C=d(B),D=c(3),E=c(14),F=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}]},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if("undefined"!=typeof b)for(var c in b)a.add(c)}function f(a,b,c){if("mixed"!==a){if("undirected"===a)return Object.keys(c.undirected);if("string"==typeof b)return Object.keys(c[b])}var d=new Set;return"undirected"!==a&&("out"!==b&&e(d,c["in"]),"in"!==b&&e(d,c.out)),"directed"!==a&&e(d,c.undirected),w["default"](d.values(),d.size)}function g(a,b,c){for(var d in b){var e=b[d];e instanceof Set&&(e=e.values().next().value);var f=e.source,g=e.target,h=f===a?g:f;c(h.key,h.attributes)}}function h(a,b,c,d){for(var e in c){var f=c[e];f instanceof Set&&(f=f.values().next().value);var g=f.source,h=f.target,i=g===b?h:g;a.has(i.key)||(a.add(i.key),d(i.key,i.attributes))}}function i(a,b,c,d){if("mixed"!==a){if("undirected"===a)return g(c,c.undirected,d);if("string"==typeof b)return g(c,c[b],d)}var e=new Set;"undirected"!==a&&("out"!==b&&h(e,c,c["in"],d),"in"!==b&&h(e,c,c.out,d)),"directed"!==a&&h(e,c,c.undirected,d)}function j(a,b){var c=Object.keys(b),d=c.length,e=0;return new s["default"](function(){if(e>=d)return{done:!0};var f=b[c[e++]];f instanceof Set&&(f=f.values().next().value);var g=f.source,h=f.target,i=g===a?h:g;return{done:!1,value:[i.key,i.attributes]}})}function k(a,b,c){var d=Object.keys(c),e=d.length,f=0;return new s["default"](function g(){if(f>=e)return{done:!0};var h=c[d[f++]];h instanceof Set&&(h=h.values().next().value);var i=h.source,j=h.target,k=i===b?j:i;return a.has(k.key)?g():(a.add(k.key),{done:!1,value:[k.key,k.attributes]})})}function l(a,b,c){if("mixed"!==a){if("undirected"===a)return j(c,c.undirected);if("string"==typeof b)return j(c,c[b])}var d=s["default"].empty(),e=new Set;return"undirected"!==a&&("out"!==b&&(d=u["default"](d,k(e,c,c["in"]))),"in"!==b&&(d=u["default"](d,k(e,c,c.out)))),"directed"!==a&&(d=u["default"](d,k(e,c,c.undirected))),d}function m(a,b,c,d,e){var f=a._nodes.get(d);if("undirected"!==b){if("out"!==c&&"undefined"!=typeof f["in"])for(var g in f["in"])if(g===e)return!0;if("in"!==c&&"undefined"!=typeof f.out)for(var h in f.out)if(h===e)return!0}if("directed"!==b&&"undefined"!=typeof f.undirected)for(var i in f.undirected)if(i===e)return!0;return!1}function n(a,b){var c=b.name,d=b.type,e=b.direction;a.prototype[c]=function(a){if("mixed"!==d&&"mixed"!==this.type&&d!==this.type)return[];if(2===arguments.length){var b=""+arguments[0],g=""+arguments[1];if(!this._nodes.has(b))throw new x.NotFoundGraphError("Graph."+c+': could not find the "'+b+'" node in the graph.');if(!this._nodes.has(g))throw new x.NotFoundGraphError("Graph."+c+': could not find the "'+g+'" node in the graph.');return m(this,d,e,b,g)}if(1===arguments.length){a=""+a;var h=this._nodes.get(a);if("undefined"==typeof h)throw new x.NotFoundGraphError("Graph."+c+': could not find the "'+a+'" node in the graph.');var i=f("mixed"===d?this.type:d,e,h);return i}throw new x.InvalidArgumentsGraphError("Graph."+c+": invalid number of arguments (expecting 1 or 2 and got "+arguments.length+").")}}function o(a,b){var c=b.name,d=b.type,e=b.direction,f="forEach"+c[0].toUpperCase()+c.slice(1,-1);a.prototype[f]=function(a,b){if("mixed"===d||"mixed"===this.type||d===this.type){a=""+a;var c=this._nodes.get(a);if("undefined"==typeof c)throw new x.NotFoundGraphError("Graph."+f+': could not find the "'+a+'" node in the graph.');i("mixed"===d?this.type:d,e,c,b)}}}function p(a,b){var c=b.name,d=b.type,e=b.direction,f=c.slice(0,-1)+"Entries";a.prototype[f]=function(a){if("mixed"!==d&&"mixed"!==this.type&&d!==this.type)return s["default"].empty();a=""+a;var b=this._nodes.get(a);if("undefined"==typeof b)throw new x.NotFoundGraphError("Graph."+f+': could not find the "'+a+'" node in the graph.');return l("mixed"===d?this.type:d,e,b)}}function q(a){y.forEach(function(b){n(a,b),o(a,b),p(a,b)})}Object.defineProperty(b,"__esModule",{value:!0}),b.attachNeighborIterationMethods=q;var r=c(13),s=d(r),t=c(43),u=d(t),v=c(22),w=d(v),x=c(3),y=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}]},function(a,b,c){"use strict";function d(a,b){var c={key:a};return Object.keys(b.attributes).length&&(c.attributes=i.assign({},b.attributes)),c}function e(a,b){var c={source:b.source.key,target:b.target.key};return b.generatedKey||(c.key=a),Object.keys(b.attributes).length&&(c.attributes=i.assign({},b.attributes)),b instanceof h.UndirectedEdgeData&&(c.undirected=!0),c}function f(a){return i.isPlainObject(a)?"key"in a?"attributes"in a&&(!i.isPlainObject(a.attributes)||null===a.attributes)?"invalid-attributes":null:"no-key":"not-object"}function g(a){return i.isPlainObject(a)?"source"in a?"target"in a?"attributes"in a&&(!i.isPlainObject(a.attributes)||null===a.attributes)?"invalid-attributes":"undirected"in a&&"boolean"!=typeof a.undirected?"invalid-undirected":null:"no-target":"no-source":"not-object"}Object.defineProperty(b,"__esModule",{value:!0}),b.serializeNode=d,b.serializeEdge=e,b.validateSerializedNode=f,b.validateSerializedEdge=g;var h=c(14),i=c(11)},function(a,b,c){a.exports=c(129)},function(a,b,c){var d=c(130),e=c(132),f=(new d.DOMParser).parseFromString("<t></t>","application/xml");b.parse=e(d.DOMParser,f.constructor),b.write=c(135)},function(a,b,c){function d(a){this.options=a||{locator:{}}}function e(a,b,c){function d(b){var d=a[b];!d&&g&&(d=2==a.length?function(c){a(b,c)}:a),e[b]=d&&function(a){d("[xmldom "+b+"]	"+a+h(c))}||function(){}}if(!a){if(b instanceof f)return b;a=b}var e={},g=a instanceof Function;return c=c||{},d("warning"),d("error"),d("fatalError"),e}function f(){this.cdata=!1}function g(a,b){b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber}function h(a){return a?"\n@"+(a.systemId||"")+"#[line:"+a.lineNumber+",col:"+a.columnNumber+"]":void 0}function i(a,b,c){return"string"==typeof a?a.substr(b,c):a.length>=b+c||b?new java.lang.String(a,b,c)+"":a}function j(a,b){a.currentElement?a.currentElement.appendChild(b):a.doc.appendChild(b)}d.prototype.parseFromString=function(a,b){var c=this.options,d=new k,g=c.domBuilder||new f,h=c.errorHandler,i=c.locator,j=c.xmlns||{},l={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return i&&g.setDocumentLocator(i),d.errorHandler=e(h,g,i),d.domBuilder=c.domBuilder||g,/\/x?html?$/.test(b)&&(l.nbsp="",l.copy="",j[""]="http://www.w3.org/1999/xhtml"),j.xml=j.xml||"http://www.w3.org/XML/1998/namespace",a?d.parse(a,j,l):d.errorHandler.error("invalid doc source"),g.doc},f.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(a,b,c,d){var e=this.doc,f=e.createElementNS(a,c||b),h=d.length;j(this,f),this.currentElement=f,this.locator&&g(this.locator,f);for(var i=0;h>i;i++){var a=d.getURI(i),k=d.getValue(i),c=d.getQName(i),l=e.createAttributeNS(a,c);this.locator&&g(d.getLocator(i),l),l.value=l.nodeValue=k,f.setAttributeNode(l)}},endElement:function(a,b,c){var d=this.currentElement;d.tagName;this.currentElement=d.parentNode},startPrefixMapping:function(a,b){},endPrefixMapping:function(a){},processingInstruction:function(a,b){var c=this.doc.createProcessingInstruction(a,b);this.locator&&g(this.locator,c),j(this,c)},ignorableWhitespace:function(a,b,c){},characters:function(a,b,c){if(a=i.apply(this,arguments)){if(this.cdata)var d=this.doc.createCDATASection(a);else var d=this.doc.createTextNode(a);this.currentElement?this.currentElement.appendChild(d):/^\s*$/.test(a)&&this.doc.appendChild(d),this.locator&&g(this.locator,d)}},skippedEntity:function(a){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(a){(this.locator=a)&&(a.lineNumber=0)},comment:function(a,b,c){a=i.apply(this,arguments);var d=this.doc.createComment(a);this.locator&&g(this.locator,d),j(this,d)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(a,b,c){var d=this.doc.implementation;if(d&&d.createDocumentType){var e=d.createDocumentType(a,b,c);this.locator&&g(this.locator,e),j(this,e)}},warning:function(a){console.warn("[xmldom warning]	"+a,h(this.locator))},error:function(a){console.error("[xmldom error]	"+a,h(this.locator))},fatalError:function(a){throw console.error("[xmldom fatalError]	"+a,h(this.locator)),a}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(a){f.prototype[a]=function(){return null}});var k=c(131).XMLReader,l=b.DOMImplementation=c(44).DOMImplementation;b.XMLSerializer=c(44).XMLSerializer,b.DOMParser=d},function(a,b){function c(){}function d(a,b,c,d,j){function n(a){if(a>65535){a-=65536;var b=55296+(a>>10),c=56320+(1023&a);return String.fromCharCode(b,c)}return String.fromCharCode(a)}function o(a){var b=a.slice(1,-1);return b in c?c[b]:"#"===b.charAt(0)?n(parseInt(b.substr(1).replace("x","0x"))):(j.error("entity not found:"+a),a)}function p(b){if(b>x){var c=a.substring(x,b).replace(/&#?\w+;/g,o);u&&q(x),d.characters(c,0,b-x),x=b}}function q(b,c){for(;b>=s&&(c=t.exec(a));)r=c.index,s=r+c[0].length,u.lineNumber++;u.columnNumber=b-r+1}for(var r=0,s=0,t=/.*(?:\r\n?|\n)|.*$/g,u=d.locator,v=[{currentNSMap:b}],w={},x=0;;){try{var y=a.indexOf("<",x);if(0>y){if(!a.substr(x).match(/^\s*$/)){var z=d.doc,A=z.createTextNode(a.substr(x));z.appendChild(A),d.currentElement=A}return}switch(y>x&&p(y),a.charAt(y+1)){case"/":var B=a.indexOf(">",y+3),C=a.substring(y+2,B),D=v.pop();0>B?(C=a.substring(y+2).replace(/[\s<].*/,""),j.error("end tag name: "+C+" is not complete:"+D.tagName),B=y+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),j.error("end tag name: "+C+" maybe not complete"),B=y+1+C.length);var E=D.localNSMap,F=D.tagName==C,G=F||D.tagName&&D.tagName.toLowerCase()==C.toLowerCase();if(G){if(d.endElement(D.uri,D.localName,C),E)for(var H in E)d.endPrefixMapping(H);F||j.fatalError("end tag name: "+C+" is not match the current start tagName:"+D.tagName)}else v.push(D);B++;break;case"?":u&&q(y),B=l(a,y,d);break;case"!":u&&q(y),B=k(a,y,d,j);break;default:u&&q(y);var I=new m,J=v[v.length-1].currentNSMap,B=f(a,y,I,J,o,j),K=I.length;if(!I.closed&&i(a,B,I.tagName,w)&&(I.closed=!0,c.nbsp||j.warning("unclosed xml attribute")),u&&K){for(var L=e(u,{}),M=0;K>M;M++){var N=I[M];q(N.offset),N.locator=e(u,{})}d.locator=L,g(I,d,J)&&v.push(I),d.locator=u}else g(I,d,J)&&v.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?B++:B=h(a,B,I.tagName,o,d)}}catch(O){j.error("element parse error: "+O),B=-1}B>x?x=B:p(Math.max(y,x)+1)}}function e(a,b){return b.lineNumber=a.lineNumber,b.columnNumber=a.columnNumber,b}function f(a,b,c,d,e,f){for(var g,h,i=++b,j=s;;){var k=a.charAt(i);switch(k){case"=":if(j===t)g=a.slice(b,i),j=v;else{if(j!==u)throw new Error("attribute equal must after attrName");j=v}break;case"'":case'"':if(j===v||j===t){if(j===t&&(f.warning('attribute value must after "="'),g=a.slice(b,i)),b=i+1,i=a.indexOf(k,b),!(i>0))throw new Error("attribute value no end '"+k+"' match");h=a.slice(b,i).replace(/&#?\w+;/g,e),c.add(g,h,b-1),j=x}else{if(j!=w)throw new Error('attribute value must after "="');h=a.slice(b,i).replace(/&#?\w+;/g,e),c.add(g,h,b),f.warning('attribute "'+g+'" missed start quot('+k+")!!"),b=i+1,j=x}break;case"/":switch(j){case s:c.setTagName(a.slice(b,i));case x:case y:case z:j=z,c.closed=!0;case w:case t:case u:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return f.error("unexpected end of input"),j==s&&c.setTagName(a.slice(b,i)),i;case">":switch(j){case s:c.setTagName(a.slice(b,i));case x:case y:case z:break;case w:case t:h=a.slice(b,i),"/"===h.slice(-1)&&(c.closed=!0,h=h.slice(0,-1));case u:j===u&&(h=g),j==w?(f.warning('attribute "'+h+'" missed quot(")!!'),c.add(g,h.replace(/&#?\w+;/g,e),b)):("http://www.w3.org/1999/xhtml"===d[""]&&h.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),c.add(h,h,b));break;case v:throw new Error("attribute value missed!!")}return i;case"":k=" ";default:if(" ">=k)switch(j){case s:c.setTagName(a.slice(b,i)),j=y;break;case t:g=a.slice(b,i),j=u;break;case w:var h=a.slice(b,i).replace(/&#?\w+;/g,e);f.warning('attribute "'+h+'" missed quot(")!!'),c.add(g,h,b);case x:j=y}else switch(j){case u:c.tagName;"http://www.w3.org/1999/xhtml"===d[""]&&g.match(/^(?:disabled|checked|selected)$/i)||f.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),c.add(g,g,b),b=i,j=t;break;case x:f.warning('attribute space is required"'+g+'"!!');case y:j=t,b=i;break;case v:j=w,b=i;break;case z:throw new Error("elements closed character '/' and '>' must be connected to")}}i++}}function g(a,b,c){for(var d=a.tagName,e=null,f=a.length;f--;){var g=a[f],h=g.qName,i=g.value,k=h.indexOf(":");if(k>0)var l=g.prefix=h.slice(0,k),m=h.slice(k+1),n="xmlns"===l&&m;else m=h,l=null,n="xmlns"===h&&"";g.localName=m,n!==!1&&(null==e&&(e={},j(c,c={})),c[n]=e[n]=i,g.uri="http://www.w3.org/2000/xmlns/",b.startPrefixMapping(n,i))}for(var f=a.length;f--;){g=a[f];var l=g.prefix;l&&("xml"===l&&(g.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(g.uri=c[l||""]))}var k=d.indexOf(":");k>0?(l=a.prefix=d.slice(0,k),m=a.localName=d.slice(k+1)):(l=null,m=a.localName=d);var o=a.uri=c[l||""];if(b.startElement(o,m,d,a),!a.closed)return a.currentNSMap=c,a.localNSMap=e,!0;if(b.endElement(o,m,d),e)for(l in e)b.endPrefixMapping(l)}function h(a,b,c,d,e){if(/^(?:script|textarea)$/i.test(c)){var f=a.indexOf("</"+c+">",b),g=a.substring(b+1,f);if(/[&<]/.test(g))return/^script$/i.test(c)?(e.characters(g,0,g.length),f):(g=g.replace(/&#?\w+;/g,d),e.characters(g,0,g.length),f)}return b+1}function i(a,b,c,d){var e=d[c];return null==e&&(e=a.lastIndexOf("</"+c+">"),b>e&&(e=a.lastIndexOf("</"+c)),d[c]=e),b>e}function j(a,b){for(var c in a)b[c]=a[c]}function k(a,b,c,d){var e=a.charAt(b+2);switch(e){case"-":if("-"===a.charAt(b+3)){var f=a.indexOf("-->",b+4);return f>b?(c.comment(a,b+4,f-b-4),f+3):(d.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==a.substr(b+3,6)){var f=a.indexOf("]]>",b+9);
return c.startCDATA(),c.characters(a,b+9,f-b-9),c.endCDATA(),f+3}var g=o(a,b),h=g.length;if(h>1&&/!doctype/i.test(g[0][0])){var i=g[1][0],j=h>3&&/^public$/i.test(g[2][0])&&g[3][0],k=h>4&&g[4][0],l=g[h-1];return c.startDTD(i,j&&j.replace(/^(['"])(.*?)\1$/,"$2"),k&&k.replace(/^(['"])(.*?)\1$/,"$2")),c.endDTD(),l.index+l[0].length}}return-1}function l(a,b,c){var d=a.indexOf("?>",b);if(d){var e=a.substring(b,d).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(e){e[0].length;return c.processingInstruction(e[1],e[2]),d+2}return-1}return-1}function m(a){}function n(a,b){return a.__proto__=b,a}function o(a,b){var c,d=[],e=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(e.lastIndex=b,e.exec(a);c=e.exec(a);)if(d.push(c),c[1])return d}var p=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=new RegExp("[\\-\\.0-9"+p.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+p.source+q.source+"*(?::"+p.source+q.source+"*)?$"),s=0,t=1,u=2,v=3,w=4,x=5,y=6,z=7;c.prototype={parse:function(a,b,c){var e=this.domBuilder;e.startDocument(),j(b,b={}),d(a,b,c,e,this.errorHandler),e.endDocument()}},m.prototype={setTagName:function(a){if(!r.test(a))throw new Error("invalid tagName:"+a);this.tagName=a},add:function(a,b,c){if(!r.test(a))throw new Error("invalid attribute:"+a);this[this.length++]={qName:a,value:b,offset:c}},length:0,getLocalName:function(a){return this[a].localName},getLocator:function(a){return this[a].locator},getQName:function(a){return this[a].qName},getURI:function(a){return this[a].uri},getValue:function(a){return this[a].value}},n({},n.prototype)instanceof n||(n=function(a,b){function c(){}c.prototype=b,c=new c;for(b in a)c[b]=a[b];return c}),b.XMLReader=c},function(a,b,c){function d(a){return a!==a}function e(a){var b=a.getAttribute("a"),c=a.getAttribute("r"),d=a.getAttribute("g"),e=a.getAttribute("b");return b?"rgba("+c+","+d+","+e+","+b+")":"rgb("+c+","+d+","+e+")"}function f(a,b){var c=a.getElementsByTagName("viz:"+b)[0];return c||(c=a.getElementsByTagNameNS("viz",b)[0]),c||(c=a.getElementsByTagName(b)[0]),c}function g(a){for(var b,c={},d=0,e=a.length;e>d;d++)b=a[d],"#text"!==b.nodeName&&(c[b.tagName.toLowerCase()]=b.textContent);return c}function h(a){for(var b,c,e,f={},g={},h=0,i=a.length;i>h;h++)b=a[h],e=b.getAttribute("id")||b.getAttribute("for"),f[e]={id:e,type:b.getAttribute("type")||"string",title:d(+e)?e:b.getAttribute("title")||e},c=b.getElementsByTagName("default")[0],c&&(g[f[e].title]=l(f[e].type,c.textContent));return[f,g]}function i(a,b){var c={},d=b.getAttribute("label"),g=b.getAttribute("weight");d&&(c.label=d),g&&(c.weight=+g);for(var h,i,j=b.getElementsByTagName("attvalue"),k=0,m=j.length;m>k;k++)h=j[k],i=h.getAttribute("id")||h.getAttribute("for"),c[a[i].title]=l(a[i].type,h.getAttribute("value"));var n=f(b,"color");n&&(c.color=e(n)),n=f(b,"size"),n&&(c.size=+n.getAttribute("value"));var o,p,q;return n=f(b,"position"),n&&(o=n.getAttribute("x"),p=n.getAttribute("y"),q=n.getAttribute("z"),o&&(c.x=+o),p&&(c.y=+p),q&&(c.z=+q)),n=f(b,"shape"),n&&(c.shape=n.getAttribute("value")),n=f(b,"thickness"),n&&(c.thickness=+n.getAttribute("value")),c}var j=c(133),k=c(134),l=k.cast;a.exports=function(a,b){return function(c,d){var e,f,k,l,m,n,o,p,q,r=d;if(!j(c))throw new Error("graphology-gexf/browser/parser: invalid Graph constructor.");if("string"==typeof d&&(r=(new a).parseFromString(d,"application/xml")),!(r instanceof b))throw new Error("graphology-gexf/browser/parser: source should either be a XML document or a string.");var s=r.getElementsByTagName("graph")[0],t=r.getElementsByTagName("meta")[0],u=t&&t.childNodes||[],v=r.getElementsByTagName("node"),w=r.getElementsByTagName("edge"),x=r.getElementsByTagName("attributes"),y=[],z=[];for(p=0,q=x.length;q>p;p++)e=x[p],"node"===e.getAttribute("class")?y=e.getElementsByTagName("attribute"):"edge"===e.getAttribute("class")&&(z=e.getElementsByTagName("attribute"));var A=s.getAttribute("defaultedgetype")||"undirected";"mutual"===A&&(A="undirected"),f=h(y);var B=f[0],C=f[1];f=h(z);var D=f[0],E=f[1],F=w[0]?w[0].getAttribute("type")||A:"mixed",G=new c({type:F,defaultNodeAttributes:C,defaultEdgeAttributes:E}),H=g(u),I=t&&t.getAttribute("lastmodifieddate");for(G.replaceAttributes(H),I&&G.setAttribute("lastModifiedDate",I),p=0,q=v.length;q>p;p++)e=v[p],G.addNode(e.getAttribute("id"),i(B,e));for(p=0,q=w.length;q>p;p++)e=w[p],m=e.getAttribute("id"),k=e.getAttribute("type")||A,n=e.getAttribute("source"),o=e.getAttribute("target"),l=i(D,e),k!==G.type&&"mixed"!==G.type&&G.upgradeToMixed(),!G.multi&&("directed"===k&&G.hasDirectedEdge(n,o)||G.hasUndirectedEdge(n,o))&&G.upgradeToMulti(),m?"directed"===k?G.addDirectedEdgeWithKey(m,n,o,l):G.addUndirectedEdgeWithKey(m,n,o,l):"directed"===k?G.addDirectedEdge(n,o,l):G.addUndirectedEdge(n,o,l);return G}}},function(a,b){a.exports=function(a){return null!==a&&"function"==typeof a&&"object"==typeof a.prototype&&"function"==typeof a.prototype.addUndirectedEdgeWithKey&&"function"==typeof a.prototype.dropNode}},function(a,b){b.cast=function(a,b){switch(a){case"boolean":b="true"===b;break;case"integer":case"long":case"float":case"double":b=+b;break;case"liststring":b=b?b.split("|"):[]}return b}},function(a,b,c){function d(a){if(!a||"string"!=typeof a)return{};if("#"===a[0])return a=a.slice(1),3===a.length?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16)}:{r:parseInt(a[0]+a[1],16),g:parseInt(a[2]+a[3],16),b:parseInt(a[4]+a[5],16)};if(t.test(a)){var b={};return a=a.match(u),b.r=+a[1],b.g=+a[2],b.b=+a[3],a[4]&&(b.a=+a[4]),b}return{}}function e(a,b,c){var d,e={};for(d in c)"label"===d?e.label=c.label:"edge"===a&&"weight"===d?e.weight=c.weight:s.has(d)?(e.viz=e.viz||{},e.viz[d]=c[d]):(e.attributes=e.attributes||{},e.attributes[d]=c[d]);return e}function f(a){return 2147483647>=a&&a>=-2147483647}function g(a){return"undefined"==typeof a||null===a||""===a||a!==a}function h(a){return g(a)?"empty":Array.isArray(a)?"liststring":"boolean"==typeof a?"boolean":"object"==typeof a?"string":"number"==typeof a?a===(0|a)?f(a)?"integer":"long":"double":"string"}function i(a,b){return"liststring"===a&&Array.isArray(b)?b.join("|"):""+b}function j(a,b){for(var c,d,e=a.nodes(),f=0,g=e.length;g>f;f++)c=e[f],d=b(c,a.getNodeAttributes(c)),d.key=c,e[f]=d;return e}function k(a,b){for(var c,d,e=a.edges(),f=0,g=e.length;g>f;f++)c=e[f],d=b(c,a.getEdgeAttributes(c)),d.key=c,d.source=a.source(c),d.target=a.target(c),d.undirected=a.undirected(c),e[f]=d;return e}function l(a){for(var b,c,d,e={},f=0,g=a.length;g>f;f++)if(b=a[f].attributes)for(d in b)c=h(b[d]),"empty"!==c&&(e[d]?"integer"===e[d]&&"long"===c?e[d]=c:e[d]!==c&&(e[d]="string"):e[d]=c);return e}function m(a,b,c){var d;if(Object.keys(b).length){a.startElement("attributes"),a.writeAttribute("class",c);for(d in b)a.startElement("attribute"),a.writeAttribute("id",d),a.writeAttribute("title",d),a.writeAttribute("type",b[d]),a.endElement();a.endElement()}}function n(a,b,c,e){var f,h,j,k,l,m,n,o,p,q,r,s=!Object.keys(c).length;for(a.startElement(b+"s"),q=0,r=e.length;r>q;q++){if(f=e[q],m=f.attributes,o=f.viz,a.startElement(b),a.writeAttribute("id",f.key),"edge"===b&&(l=f.undirected?"undirected":"directed",l!==a.defaultEdgeType&&a.writeAttribute("type",l),a.writeAttribute("source",f.source),a.writeAttribute("target",f.target),n=f.weight,("number"==typeof n&&!isNaN(n)||"string"==typeof n)&&a.writeAttribute("weight",f.weight)),f.label&&a.writeAttribute("label",f.label),!s&&m){a.startElement("attvalues");for(h in c)if(h in m){if(k=m[h],g(k))continue;a.startElement("attvalue"),a.writeAttribute("for",h),a.writeAttribute("value",i(c[h],k)),a.endElement()}a.endElement()}if(o){if(o.color){j=d(o.color),a.startElementNS("viz","color");for(p in j)a.writeAttribute(p,j[p]);a.endElement()}"size"in o&&(a.startElementNS("viz","size"),a.writeAttribute("value",o.size),a.endElement()),("x"in o||"y"in o||"z"in o)&&(a.startElementNS("viz","position"),"x"in o&&a.writeAttribute("x",o.x),"y"in o&&a.writeAttribute("y",o.y),"z"in o&&a.writeAttribute("z",o.z),a.endElement()),o.shape&&(a.startElementNS("viz","shape"),a.writeAttribute("value",o.shape),a.endElement()),"thickness"in o&&(a.startElementNS("viz","thickness"),a.writeAttribute("value",o.thickness),a.endElement())}a.endElement()}a.endElement()}var o=c(10),p=c(136),q="http://www.gexf.net/1.2draft",r="http:///www.gexf.net/1.1draft/viz",s=new Set(["color","size","x","y","z","shape","thickness"]),t=/^\s*rgba?\s*\(/i,u=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/,v=e.bind(null,"node"),w=e.bind(null,"edge"),x={encoding:"UTF-8",pretty:!0,formatNode:v,formatEdge:w};a.exports=function(a,b){if(!o(a))throw new Error("graphology-gexf/writer: invalid graphology instance.");b=b||{};var c=b.pretty===!1?!1:"  ",d=b.formatNode||x.formatNode,e=b.formatEdge||x.formatEdge,f=new p(c);f.startDocument("1.0",b.encoding||x.encoding),f.startElement("gexf"),f.writeAttribute("version","1.2"),f.writeAttribute("xmlns",q),f.writeAttribute("xmlns:viz",r),f.startElement("meta");var g=a.getAttributes();g.lastModifiedDate&&f.writeAttribute("lastmodifieddate",g.lastModifiedDate);for(var h in g)"lastModifiedDate"!==h&&f.writeElement(h,g[h]);f.endElement(),f.startElement("graph"),f.defaultEdgeType="mixed"===a.type?"directed":a.type,f.writeAttribute("defaultedgetype",f.defaultEdgeType);var i=j(a,d),s=k(a,e),t=l(i);m(f,t,"node");var u=l(s);return m(f,u,"edge"),n(f,"node",t,i),n(f,"edge",u,s),f.toString()}},function(a,b,c){a.exports=c(137)},function(a,b){function c(a){return"number"!=typeof a&&!a}function d(a){if("string"==typeof a)return a;if("number"==typeof a)return a+"";if("function"==typeof a)return a();if(a instanceof e)return a.toString();throw Error("Bad Parameter")}function e(a,b){return this instanceof e?(this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=a?!0:!1,this.indentString=this.indent&&"string"==typeof a?a:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",void("function"==typeof b?this.writer=b:this.writer=function(a,b){this.output+=a})):new e}e.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write("\n");for(var a=1;a<this.tags;a++)this.write(this.indentString)}},write:function(){for(var a=0;a<arguments.length;a++)this.writer(arguments[a],this.writer_encoding)},flush:function(){for(var a=this.tags;a>0;a--)this.endElement();this.tags=0},startDocument:function(a,b,c){return this.tags||this.attributes?this:(this.startPI("xml"),this.startAttribute("version"),this.text("string"==typeof a?a:"1.0"),this.endAttribute(),"string"==typeof b&&(this.startAttribute("encoding"),this.text(b),this.endAttribute(),this.writer_encoding=b),c&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write("\n"),this)},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(a,b){return this.startElement(a).text(b).endElement()},writeElementNS:function(a,b,c,d){return d||(d=c),this.startElementNS(a,b,c).text(d).endElement()},startElement:function(a){if(a=d(a),!a.match(this.name_regex))throw Error("Invalid Parameter");if(0===this.tags&&this.root&&this.root!==a)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:a,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",a),this.startAttributes(),this.started_write=!0,this},startElementNS:function(a,b,c){if(a=d(a),b=d(b),!a.match(this.name_regex))throw Error("Invalid Parameter");if(!b.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:a+":"+b,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",a+":"+b),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var a=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(a.containsTag&&this.indenter(),this.write("</",a.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(a,b){return"function"==typeof b&&(b=b()),c(b)?this:this.startAttribute(a).text(b).endAttribute()},writeAttributeNS:function(a,b,d,e){return e||(e=d),"function"==typeof e&&(e=e()),c(e)?this:this.startAttributeNS(a,b,d).text(e).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(a){if(a=d(a),!a.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?this.attribute?this:(this.attribute=1,this.write(" ",a,'="'),this):this},startAttributeNS:function(a,b,c){if(a=d(a),b=d(b),!a.match(this.name_regex))throw Error("Invalid Parameter");if(!b.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes||this.pi?this.attribute?this:(this.attribute=1,this.write(" ",a+":"+b,'="'),this):this},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(a){return a=d(a),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(a):this.write(a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this):this},writeComment:function(a){return this.startComment().text(a).endComment()},startComment:function(){return this.comment?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<!--"),this.comment=1,this.started_write=!0,this)},endComment:function(){return this.comment?(this.write("-->"),this.comment=0,this):this},writeDocType:function(a,b,c,d){return this.startDocType(a,b,c,d).endDocType()},startDocType:function(a,b,c,e){if(this.dtd||this.tags)return this;if(a=d(a),b=b?d(b):b,c=c?d(c):c,e=e?d(e):e,!a.match(this.name_regex))throw Error("Invalid Parameter");if(b&&!b.match(/^[\w\-][\w\s\-\/\+\:\.]*/))throw Error("Invalid Parameter");if(c&&!c.match(/^[\w\.][\w\-\/\\\:\.]*/))throw Error("Invalid Parameter");if(e&&!e.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return b=b?' PUBLIC "'+b+'"':c?" SYSTEM":"",c=c?' "'+c+'"':"",e=e?" ["+e+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",a,b,c,e),this.root=a,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(a,b){return this.startPI(a).text(b).endPI()},startPI:function(a){if(a=d(a),!a.match(this.name_regex))throw Error("Invalid Parameter");return this.pi?this:(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",a),this.pi=1,this.started_write=!0,this)},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(a){return this.startCData().text(a).endCData()},startCData:function(){return this.cdata?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0,this)},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(a){return a=d(a),this.tags||this.comment||this.pi||this.cdata?this.attributes&&this.attribute?(++this.texts,this.write(a.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(a),this.started_write=!0,this):this}},a.exports=e},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Renderer",{enumerable:!0,get:function(){return e["default"]}}),Object.defineProperty(b,"Camera",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(b,"QuadTree",{enumerable:!0,get:function(){return g["default"]}}),Object.defineProperty(b,"MouseCaptor",{enumerable:!0,get:function(){return h["default"]}}),Object.defineProperty(b,"WebGLRenderer",{enumerable:!0,get:function(){return i["default"]}});var e=d(c(45)),f=d(c(15)),g=d(c(47)),h=d(c(48)),i=d(c(146))},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.cubicInOut=b.cubicOut=b.cubicIn=b.quadraticInOut=b.quadraticOut=b.quadraticIn=b.linear=void 0;var d=function(a){return a};b.linear=d;var e=function(a){return a*a};b.quadraticIn=e;var f=function(a){return a*(2-a)};b.quadraticOut=f;var g=function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)};b.quadraticInOut=g;var h=function(a){return a*a*a};b.cubicIn=h;var i=function(a){return--a*a*a+1};b.cubicOut=i;var j=function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)};b.cubicInOut=j},function(a,b){a.exports=function(a,b){var c=a.length,d=b.length;if(0!==d){a.length+=b.length;for(var e=0;d>e;e++)a[c+e]=b[e]}}},function(a,b,c){(function(a){function d(a,b){this._id=a,this._clearFn=b}var e="undefined"!=typeof a&&a||"undefined"!=typeof self&&self||window,f=Function.prototype.apply;b.setTimeout=function(){return new d(f.call(setTimeout,e,arguments),clearTimeout)},b.setInterval=function(){return new d(f.call(setInterval,e,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(a){a&&a.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(e,this._id)},b.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},b.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},b._unrefActive=b.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c(142),b.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof a&&a.setImmediate||this&&this.setImmediate,b.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof a&&a.clearImmediate||this&&this.clearImmediate}).call(b,c(18))},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return p[o]=d,n(o),o++}function e(a){delete p[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(q)setTimeout(g,0,a);else{var b=p[a];if(b){q=!0;try{f(b)}finally{e(a),q=!1}}}}function h(){n=function(a){b.nextTick(function(){g(a)})}}function i(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}function j(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),n=function(c){a.postMessage(b+c,"*")}}function k(){var a=new MessageChannel;a.port1.onmessage=function(a){var b=a.data;g(b)},n=function(b){a.port2.postMessage(b)}}function l(){var a=r.documentElement;n=function(b){var c=r.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}function m(){n=function(a){setTimeout(g,0,a)}}if(!a.setImmediate){var n,o=1,p={},q=!1,r=a.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(a);s=s&&s.setTimeout?s:a,"[object process]"==={}.toString.call(a.process)?h():i()?j():a.MessageChannel?k():r&&"onreadystatechange"in r.createElement("script")?l():m(),s.setImmediate=d,s.clearImmediate=e}}("undefined"==typeof self?"undefined"==typeof a?this:a:self)}).call(b,c(18),c(143))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?g(a):b}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function i(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&j(a,b)}function j(a,b){return(j=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var k=c(12),l=function(a){function b(a,c){var d;return e(this,b),d=f(this,h(b).call(this)),d.container=a,d.camera=c,d}return i(b,a),b}(k.EventEmitter);b["default"]=l},function(a,b,c){"use strict";function d(a){if("undefined"!=typeof a.offsetX)return a.offsetX;if("undefined"!=typeof a.layerX)return a.layerX;if("undefined"!=typeof a.clientX)return a.clientX;throw new Error("sigma/captors/utils.getX: could not extract x from event.")}function e(a){if("undefined"!=typeof a.offsetY)return a.offsetY;if("undefined"!=typeof a.layerY)return a.layerY;if("undefined"!=typeof a.clientY)return a.clientY;throw new Error("sigma/captors/utils.getY: could not extract y from event.")}function f(a){var b=a.target.ownerSVGElement?a.target.ownerSVGElement.width:a.target.width;if("number"==typeof b)return b;if(void 0!==b&&void 0!==b.baseVal)return b.baseVal.value;throw new Error("sigma/captors/utils.getWidth: could not extract width from event.")}function g(a){var b=a.target.ownerSVGElement?a.target.ownerSVGElement.height:a.target.height;if("number"==typeof b)return b;if(void 0!==b&&void 0!==b.baseVal)return b.baseVal.value;throw new Error("sigma/captors/utils.getHeight: could not extract height from event.")}function h(a){var b=-1!==a.target.namespaceURI.indexOf("svg")?1:k.getPixelRatio();return{x:f(a)/(2*b),y:g(a)/(2*b)}}function i(a){return{x:d(a),y:e(a),clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,metaKey:a.metaKey,altKey:a.altKey,shiftKey:a.shiftKey}}function j(a){if("undefined"!=typeof a.wheelDelta)return a.wheelDelta/360;if("undefined"!=typeof a.detail)return a.detail/-9;throw new Error("sigma/captors/utils.getDelta: could not extract delta from event.")}Object.defineProperty(b,"__esModule",{value:!0}),b.getX=d,b.getY=e,b.getWidth=f,b.getHeight=g,b.getCenter=h,b.getMouseCoords=i,b.getWheelDelta=j;var k=c(49)},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var n=c(147),o=d(c(10)),p=d(c(45)),q=d(c(15)),r=d(c(48)),s=d(c(47)),t=c(148),u=d(c(149)),v=d(c(154)),w=d(c(51)),x=d(c(157)),y=c(46),z=c(49),A=c(23),B=c(159),C=c(160),D=z.getPixelRatio(),E=z.getPixelRatio(),F={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,defaultNodeColor:"#999",defaultEdgeColor:"#ccc",labelFont:"Arial",labelSize:14,labelWeight:"normal",nodeReducer:null,edgeReducer:null,zIndex:!1},G=function(a){function b(a,c,d){var e;if(f(this,b),e=i(this,k(b).call(this)),d=d||{},e.settings=y.assign({},F,d),!o["default"](a))throw new Error("sigma/renderers/webgl: invalid graph instance.");if(!(c instanceof HTMLElement))throw new Error("sigma/renderers/webgl: container should be an html element.");e.graph=a,e.captors={},e.container=c,e.elements={},e.contexts={},e.listeners={},e.quadtree=new s["default"],e.nodeDataCache={},e.edgeDataCache={},e.nodeExtent=null,e.edgeExtent=null,e.initializeCache(),e.normalizationFunction=null,e.width=0,e.height=0,e.highlightedNodes=new Set,e.displayedLabels=new Set,e.hoveredNode=null,e.wasRenderedInThisFrame=!1,e.renderFrame=null,e.renderHighlightedNodesFrame=null,e.needToProcess=!1,e.needToSoftProcess=!1,e.createContext("edges"),e.createContext("nodes"),e.createContext("labels",!1),e.createContext("hovers",!1),e.createContext("mouse",!1);var g=e.contexts.nodes;return g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.enable(g.BLEND),g=e.contexts.edges,g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.enable(g.BLEND),e.nodePrograms={def:new u["default"](e.contexts.nodes)},e.edgePrograms={def:new v["default"](e.contexts.edges)},e.resize(),e.camera=new q["default"]({width:e.width,height:e.height}),e.bindCameraHandlers(),e.captors={mouse:new r["default"](e.elements.mouse,e.camera)},e.bindEventHandlers(),e.bindGraphHandlers(),e.process(),e.render(),e}return l(b,a),h(b,[{key:"createContext",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0,c=z.createElement("canvas",{"class":"sigma-".concat(a),style:{position:"absolute"}});this.elements[a]=c,this.container.appendChild(c);var d,e={preserveDrawingBuffer:!1,antialias:!1};return b?(d=c.getContext("webgl2",e),d||(d=c.getContext("webgl",e)),d||(d=c.getContext("experimental-webgl",e))):d=c.getContext("2d",e),this.contexts[a]=d,this}},{key:"initializeCache",value:function(){for(var a=this.graph,b=a.nodes(),c=0,d=b.length;d>c;c++)this.nodeDataCache[b[c]]=new t.NodeDisplayData(c,this.settings);for(var e=a.edges(),f=0,g=e.length;g>f;f++)this.edgeDataCache[e[f]]=new t.EdgeDisplayData(f,this.settings)}},{key:"bindCameraHandlers",value:function(){var a=this;return this.listeners.camera=function(){a.scheduleRender()},this.camera.on("updated",this.listeners.camera),this}},{key:"bindEventHandlers",value:function(){var a=this;this.listeners.handleResize=function(){a.needToSoftProcess=!0,a.scheduleRender()},window.addEventListener("resize",this.listeners.handleResize);var b=function(a,b,c,d,e){return a>c-e&&c+e>a&&b>d-e&&d+e>b&&Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2))<e},c=function(b,c){var d=a.camera.viewportToGraph(a,b,c);return a.quadtree.point(d.x,1-d.y)};return this.listeners.handleMove=function(d){for(var e=Math.pow(a.camera.getState().ratio,.5),f=c(d.x,d.y),g=1/0,h=null,i=0,j=f.length;j>i;i++){var k=f[i],l=a.nodeDataCache[k],m=a.camera.graphToViewport(a,l.x,l.y),n=l.size/e;if(b(d.x,d.y,m.x,m.y,n)){var o=Math.sqrt(Math.pow(d.x-m.x,2)+Math.pow(d.y-m.y,2));g>o&&(g=o,h=k)}}if(h&&a.hoveredNode!==h)return a.hoveredNode=h,a.emit("enterNode",{node:h}),a.scheduleHighlightedNodesRender();if(a.hoveredNode){var p=a.nodeDataCache[a.hoveredNode],q=a.camera.graphToViewport(a,p.x,p.y),r=p.size/e;if(!b(d.x,d.y,q.x,q.y,r)){var s=a.hoveredNode;return a.hoveredNode=null,a.emit("leaveNode",{node:s}),a.scheduleHighlightedNodesRender()}}},this.listeners.handleClick=function(d){for(var e=Math.pow(a.camera.getState().ratio,.5),f=c(d.x,d.y),g=0,h=f.length;h>g;g++){var i=f[g],j=a.nodeDataCache[i],k=a.camera.graphToViewport(a,j.x,j.y),l=j.size/e;if(b(d.x,d.y,k.x,k.y,l))return a.emit("clickNode",{node:i})}return a.emit("clickStage")},this.captors.mouse.on("mousemove",this.listeners.handleMove),this.captors.mouse.on("click",this.listeners.handleClick),this}},{key:"bindGraphHandlers",value:function(){var a=this,b=this.graph;return this.listeners.graphUpdate=function(){a.needToProcess=!0,a.scheduleRender()},this.listeners.softGraphUpdate=function(){a.needToSoftProcess=!0,a.scheduleRender()},this.listeners.addNodeGraphUpdate=function(c){a.nodeDataCache[c.key]=new t.NodeDisplayData(b.order-1,a.settings),a.listeners.graphUpdate()},this.listeners.addEdgeGraphUpdate=function(c){a.edgeDataCache[c.key]=new t.EdgeDisplayData(b.size-1,a.settings),a.listeners.graphUpdate()},b.on("nodeAdded",this.listeners.addNodeGraphUpdate),b.on("nodeDropped",this.listeners.graphUpdate),b.on("nodeAttributesUpdated",this.listeners.softGraphUpdate),b.on("edgeAdded",this.listeners.addEdgeGraphUpdate),b.on("nodeDropped",this.listeners.graphUpdate),b.on("edgeAttributesUpdated",this.listeners.softGraphUpdate),b.on("cleared",this.listeners.graphUpdate),this}},{key:"process",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,b=this.graph,c=this.settings;this.quadtree.clear();var d=["x","y"];this.settings.zIndex&&(d.push("z"),this.edgeExtent=n.edgeExtent(b,["z"])),this.nodeExtent=n.nodeExtent(b,d),this.normalizationFunction=z.createNormalizationFunction(this.nodeExtent);var e=this.nodePrograms.def;a||e.allocate(b.order);var f=b.nodes();this.settings.zIndex&&(f=C.zIndexOrdering(this.edgeExtent.z,function(a){return b.getNodeAttribute(a,"z")},f));for(var g=0,h=f.length;h>g;g++){var i=f[g],j=b.getNodeAttributes(i),k=this.nodeDataCache[i];c.nodeReducer&&(j=c.nodeReducer(i,j)),
k.assign(j),this.normalizationFunction.applyTo(k),this.quadtree.add(i,k.x,1-k.y,k.size/this.width),e.process(k,g),k.index=g}e.bufferData();var l=this.edgePrograms.def;a||l.allocate(b.size);var m=b.edges();this.settings.zIndex&&(m=C.zIndexOrdering(this.edgeExtent.z,function(a){return b.getEdgeAttribute(a,"z")},m));for(var o=0,p=m.length;p>o;o++){var q=m[o],r=b.getEdgeAttributes(q),s=this.edgeDataCache[q];c.edgeReducer&&(r=c.edgeReducer(q,r)),s.assign(r);var t=b.extremities(q),u=this.nodeDataCache[t[0]],v=this.nodeDataCache[t[1]];l.process(u,v,s,o),s.index=o}return a||"function"!=typeof l.computeIndices||l.computeIndices(),l.bufferData(),this}},{key:"processNode",value:function(a){var b=this.nodePrograms.def,c=this.graph.getNodeAttributes(a);return b.process(c,this.nodeDataCache[a].index),this}},{key:"processEdge",value:function(a){var b=this.graph,c=this.edgePrograms.def,d=b.getEdgeAttributes(a),e=b.extremities(a),f=b.getNodeAttributes(e[0]),g=b.getNodeAttributes(e[1]);return c.process(f,g,d,this.edgeDataCache[a].index),this}},{key:"getCamera",value:function(){return this.camera}},{key:"getMouseCaptor",value:function(){return this.captors.mouse}},{key:"resize",value:function(a,b){var c=this.width,d=this.height;if(arguments.length>1?(this.width=a,this.height=b):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight),0===this.width)throw new Error("sigma/renderers/webgl: container has no width.");if(0===this.height)throw new Error("sigma/renderers/webgl: container has no height.");if(c===this.width&&d===this.height)return this;for(var e in this.elements){var f=this.elements[e];f.style.width=this.width+"px",f.style.height=this.height+"px"}for(var g in this.contexts){var h=this.contexts[g];h.scale?(this.elements[g].setAttribute("width",this.width*D+"px"),this.elements[g].setAttribute("height",this.height*D+"px"),1!==D&&h.scale(D,D)):(this.elements[g].setAttribute("width",this.width*E+"px"),this.elements[g].setAttribute("height",this.height*E+"px")),h.viewport&&h.viewport(0,0,this.width*E,this.height*E)}return this}},{key:"clear",value:function(){var a=this.contexts.labels;return a.clearRect(0,0,this.width,this.height),this}},{key:"render",value:function(){if(this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),!this.graph.order)return this;var a=this.camera.isAnimated()||this.captors.mouse.isMoving||this.captors.mouse.hasDragged||this.captors.mouse.wheelLock;this.resize(),this.clear();var b,c=this.camera.getState(),d=A.matrixFromCamera(c,{width:this.width,height:this.height});if(b=this.nodePrograms.def,b.render({matrix:d,width:this.width,height:this.height,ratio:c.ratio,nodesPowRatio:.5,scalingRatio:E}),this.settings.hideEdgesOnMove&&a||(b=this.edgePrograms.def,b.render({matrix:d,width:this.width,height:this.height,ratio:c.ratio,nodesPowRatio:.5,edgesPowRatio:.5,scalingRatio:E})),this.settings.hideLabelsOnMove&&a)return this;var e;if(c.ratio>=1)e=this.graph.nodes();else{var f=this.camera.viewRectangle(this);e=this.quadtree.rectangle(f.x1,1-f.y1,f.x2,1-f.y2,f.height)}if(!this.settings.renderLabels)return this;for(var g=B.labelsToDisplayFromGrid({cache:this.nodeDataCache,camera:this.camera,displayedLabels:this.displayedLabels,visibleNodes:e,dimensions:this,graph:this.graph}),h=this.contexts.labels,i=Math.pow(c.ratio,.5),j=0,k=g.length;k>j;j++){var l=this.nodeDataCache[g[j]],m=this.camera.graphToViewport(this,l.x,l.y),n=m.x,o=m.y,p=l.size/i;w["default"](h,{label:l.label,size:p,x:n,y:o},this.settings)}return this.displayedLabels=new Set(g),this.renderHighlightedNodes(),this}},{key:"renderHighlightedNodes",value:function(){var a=this,b=this.camera,c=Math.pow(b.getState().ratio,.5),d=this.contexts.hovers;d.clearRect(0,0,this.width,this.height);var e=function(e){var f=a.nodeDataCache[e],g=b.graphToViewport(a,f.x,f.y),h=g.x,i=g.y,j=f.size/c;x["default"](d,{label:f.label,color:f.color,size:j,x:h,y:i},a.settings)};this.hoveredNode&&e(this.hoveredNode),this.highlightedNodes.forEach(e)}},{key:"scheduleRender",value:function(){var a=this;return this.renderFrame?this:void(this.renderFrame=requestAnimationFrame(function(){a.needToProcess?a.process():a.needToSoftProcess&&a.process(!0),a.renderFrame=null,a.needToProcess=!1,a.needToSoftProcess=!1,a.render()}))}},{key:"scheduleHighlightedNodesRender",value:function(){var a=this;return this.renderHighlightedNodesFrame||this.renderFrame?this:void(this.renderHighlightedNodesFrame=requestAnimationFrame(function(){a.renderHighlightedNodesFrame=null,a.renderHighlightedNodes()}))}},{key:"refresh",value:function(){return this.needToSoftProcess=!0,this.scheduleRender(),this}},{key:"highlightNode",value:function(a){return this.highlightedNodes.add(a),this.scheduleHighlightedNodesRender(),this}},{key:"unhighlightNode",value:function(a){return this.highlightedNodes["delete"](a),this.scheduleHighlightedNodesRender(),this}},{key:"kill",value:function(){var a=this.graph;this.camera.removeListener("updated",this.listeners.camera),window.removeEventListener("resize",this.listeners.handleResize),this.captors.mouse.kill(),a.removeListener("nodeAdded",this.listeners.addNodeGraphUpdate),a.removeListener("nodeDropped",this.listeners.graphUpdate),a.removeListener("nodeAttributesUpdated",this.listeners.softGraphUpdate),a.removeListener("edgeAdded",this.listeners.addEdgeGraphUpdate),a.removeListener("nodeDropped",this.listeners.graphUpdate),a.removeListener("edgeAttributesUpdated",this.listeners.softGraphUpdate),a.removeListener("cleared",this.listeners.graphUpdate),this.quadtree=null,this.nodeDataCache=null,this.edgeDataCache=null,this.highlightedNodes=null,this.previousVisibleNodes=null,this.displayedLabels=null,this.renderFrame&&(cancelAnimationFrame(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&(cancelAnimationFrame(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var b=this.container;b.firstChild;)b.removeChild(b.firstChild)}}]),b}(p["default"]);b["default"]=G},function(a,b,c){function d(a,b){if(!f(a))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var c,d,e,g,h,i,j,k=[].concat(b),l=a.nodes(),m={};for(h=0;h<k.length;h++)g=k[h],m[g]=[1/0,-(1/0)];for(i=0,j=l.length;j>i;i++)for(c=l[i],d=a.getNodeAttributes(c),h=0;h<k.length;h++)g=k[h],e=d[g],e<m[g][0]&&(m[g][0]=e),e>m[g][1]&&(m[g][1]=e);return"string"==typeof b?m[b]:m}function e(a,b){if(!f(a))throw new Error("graphology-metrics/extent: the given graph is not a valid graphology instance.");var c,d,e,g,h,i,j,k=[].concat(b),l=a.edges(),m={};for(h=0;h<k.length;h++)g=k[h],m[g]=[1/0,-(1/0)];for(i=0,j=l.length;j>i;i++)for(c=l[i],d=a.getEdgeAttributes(c),h=0;h<k.length;h++)g=k[h],e=d[g],e<m[g][0]&&(m[g][0]=e),e>m[g][1]&&(m[g][1]=e);return"string"==typeof b?m[b]:m}var f=c(10),g=d;g.nodeExtent=d,g.edgeExtent=e,a.exports=g},function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(b,"__esModule",{value:!0}),b.EdgeDisplayData=b.NodeDisplayData=void 0;var g=function(){function a(b,c){d(this,a),this.index=b,this.x=0,this.y=0,this.size=2,this.color=c.defaultNodeColor,this.hidden=!1,this.label=""}return f(a,[{key:"assign",value:function(a){"x"in a&&(this.x=a.x),"y"in a&&(this.y=a.y),"size"in a&&(this.size=a.size),"color"in a&&(this.color=a.color),"hidden"in a&&(this.hidden=a.hidden),"label"in a&&(this.label=a.label)}}]),a}();b.NodeDisplayData=g;var h=function(){function a(b,c){d(this,a),this.index=b,this.size=1,this.color=c.defaultEdgeColor,this.hidden=!1}return f(a,[{key:"assign",value:function(a){"size"in a&&(this.size=a.size),"color"in a&&(this.color=a.color),"hidden"in a&&(this.hidden=a.hidden)}}]),a}();b.EdgeDisplayData=h},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var n=d(c(50)),o=c(23),p=d(c(152)),q=d(c(153)),r=1,s=4,t=function(a){function b(a){var c;f(this,b),c=i(this,k(b).call(this,a,p["default"],q["default"])),c.gl=a,c.array=null,c.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,c.buffer);var d=c.program;return c.positionLocation=a.getAttribLocation(d,"a_position"),c.sizeLocation=a.getAttribLocation(d,"a_size"),c.colorLocation=a.getAttribLocation(d,"a_color"),c.matrixLocation=a.getUniformLocation(d,"u_matrix"),c.ratioLocation=a.getUniformLocation(d,"u_ratio"),c.scaleLocation=a.getUniformLocation(d,"u_scale"),a.enableVertexAttribArray(c.positionLocation),a.enableVertexAttribArray(c.sizeLocation),a.enableVertexAttribArray(c.colorLocation),a.vertexAttribPointer(c.positionLocation,2,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(c.sizeLocation,1,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(c.colorLocation,4,a.UNSIGNED_BYTE,!0,s*Float32Array.BYTES_PER_ELEMENT,12),c}return l(b,a),h(b,[{key:"allocate",value:function(a){this.array=new Float32Array(r*s*a)}},{key:"process",value:function(a,b){var c=o.floatColor(a.color),d=b*r*s,e=this.array;return a.hidden?(e[d++]=0,e[d++]=0,e[d++]=0,void(e[d++]=0)):(e[d++]=a.x,e[d++]=a.y,e[d++]=a.size,void(e[d]=c))}},{key:"bufferData",value:function(){var a=this.gl;a.bufferData(a.ARRAY_BUFFER,this.array,a.DYNAMIC_DRAW)}},{key:"render",value:function(a){var b=this.gl,c=this.program;b.useProgram(c),b.uniform1f(this.ratioLocation,1/Math.pow(a.ratio,a.nodesPowRatio)),b.uniform1f(this.scaleLocation,a.scalingRatio),b.uniformMatrix3fv(this.matrixLocation,!1,a.matrix),b.drawArrays(b.POINTS,0,this.array.length/s)}}]),b}(n["default"]);b["default"]=t},function(a,b,c){"use strict";function d(a,b,c){var d="VERTEX"===a?b.VERTEX_SHADER:b.FRAGMENT_SHADER,e=b.createShader(d);b.shaderSource(e,c),b.compileShader(e);var f=b.getShaderParameter(e,b.COMPILE_STATUS);if(!f){var g=b.getShaderInfoLog(e);throw b.deleteShader(e),new Error("sigma/renderers/webgl/shaders/utils.loadShader: error while compiling the shader:\n".concat(g,"\n").concat(c))}return e}function e(a,b){var c,d,e=a.createProgram();for(c=0,d=b.length;d>c;c++)a.attachShader(e,b[c]);a.linkProgram(e);var f=a.getProgramParameter(e,a.LINK_STATUS);if(!f)throw a.deleteProgram(e),new Error("sigma/renderers/webgl/shaders/utils.loadProgram: error while linking the program.");return e}Object.defineProperty(b,"__esModule",{value:!0}),b.loadProgram=e,b.loadFragmentShader=b.loadVertexShader=void 0;var f=d.bind(null,"VERTEX"),g=d.bind(null,"FRAGMENT");b.loadFragmentShader=g,b.loadVertexShader=f},function(a,b,c){"use strict";function d(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}function e(a,b,c){return a[0]=b,a[4]=arguments.length>2?c:b,a}function f(a,b){var c=Math.sin(b),d=Math.cos(b);return a[0]=d,a[1]=c,a[3]=-c,a[4]=d,a}function g(a,b,c){return a[6]=b,a[7]=c,a}function h(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=a[6],j=a[7],k=a[8],l=b[0],m=b[1],n=b[2],o=b[3],p=b[4],q=b[5],r=b[6],s=b[7],t=b[8];return a[0]=l*c+m*f+n*i,a[1]=l*d+m*g+n*j,a[2]=l*e+m*h+n*k,a[3]=o*c+p*f+q*i,a[4]=o*d+p*g+q*j,a[5]=o*e+p*h+q*k,a[6]=r*c+s*f+t*i,a[7]=r*d+s*g+t*j,a[8]=r*e+s*h+t*k,a}Object.defineProperty(b,"__esModule",{value:!0}),b.identity=d,b.scale=e,b.rotate=f,b.translate=g,b.multiply=h},function(a,b){a.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=12)}({12:function(a,b){a.exports="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_ratio;\nuniform float u_scale;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size * u_ratio * u_scale * 2.0;\n\n  v_border = (1.0 / u_ratio) * (0.5 / a_size);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"}})},function(a,b){a.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=11)}({11:function(a,b){a.exports="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\n\nvoid main(void) {\n  vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  // gl_FragColor = mix(color0, v_color, t);\n  gl_FragColor = mix(color0, v_color, t);\n}\n"}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;var n=d(c(50)),o=c(23),p=d(c(155)),q=d(c(156)),r=4,s=6,t=r*s,u=function(a){function b(a){var c;return f(this,b),c=i(this,k(b).call(this,a,p["default"],q["default"])),c.gl=a,c.array=null,c.indicesArray=null,c.buffer=a.createBuffer(),c.indicesBuffer=a.createBuffer(),c.positionLocation=a.getAttribLocation(c.program,"a_position"),c.normalLocation=a.getAttribLocation(c.program,"a_normal"),c.thicknessLocation=a.getAttribLocation(c.program,"a_thickness"),c.colorLocation=a.getAttribLocation(c.program,"a_color"),c.resolutionLocation=a.getUniformLocation(c.program,"u_resolution"),c.ratioLocation=a.getUniformLocation(c.program,"u_ratio"),c.matrixLocation=a.getUniformLocation(c.program,"u_matrix"),c.scaleLocation=a.getUniformLocation(c.program,"u_scale"),c.bind(),c.canUse32BitsIndices=o.canUse32BitsIndices(a),c.IndicesArray=c.canUse32BitsIndices?Uint32Array:Uint16Array,c.indicesType=c.canUse32BitsIndices?a.UNSIGNED_INT:a.UNSIGNED_SHORT,c}return l(b,a),h(b,[{key:"bind",value:function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),a.enableVertexAttribArray(this.positionLocation),a.enableVertexAttribArray(this.normalLocation),a.enableVertexAttribArray(this.thicknessLocation),a.enableVertexAttribArray(this.colorLocation),a.vertexAttribPointer(this.positionLocation,2,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,0),a.vertexAttribPointer(this.normalLocation,2,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,8),a.vertexAttribPointer(this.thicknessLocation,1,a.FLOAT,!1,s*Float32Array.BYTES_PER_ELEMENT,16),a.vertexAttribPointer(this.colorLocation,4,a.UNSIGNED_BYTE,!0,s*Float32Array.BYTES_PER_ELEMENT,20)}},{key:"allocate",value:function(a){this.array=new Float32Array(r*s*a)}},{key:"process",value:function(a,b,c,d){if(a.hidden||b.hidden||c.hidden)for(var e=d*t,f=e+t;f>e;e++)this.array[e]=0;else{var g=c.size||1,h=a.x,i=a.y,j=b.x,k=b.y,l=o.floatColor(c.color),m=j-h,n=k-i,p=m*m+n*n,q=0,u=0;p&&(p=1/Math.sqrt(p),q=-n*p,u=m*p);var v=r*s*d,w=this.array;w[v++]=h,w[v++]=i,w[v++]=q,w[v++]=u,w[v++]=g,w[v++]=l,w[v++]=h,w[v++]=i,w[v++]=-q,w[v++]=-u,w[v++]=g,w[v++]=l,w[v++]=j,w[v++]=k,w[v++]=q,w[v++]=u,w[v++]=g,w[v++]=l,w[v++]=j,w[v++]=k,w[v++]=-q,w[v++]=-u,w[v++]=g,w[v]=l}}},{key:"computeIndices",value:function(){for(var a=this.array.length/s,b=a+a/2,c=new this.IndicesArray(b),d=0,e=0;a>d;d+=4)c[e++]=d,c[e++]=d+1,c[e++]=d+2,c[e++]=d+2,c[e++]=d+1,c[e++]=d+3;this.indicesArray=c}},{key:"bufferData",value:function(){var a=this.gl;a.bufferData(a.ARRAY_BUFFER,this.array,a.DYNAMIC_DRAW),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indicesArray,a.STATIC_DRAW)}},{key:"render",value:function(a){var b=this.gl,c=this.program;b.useProgram(c),b.uniform2f(this.resolutionLocation,a.width,a.height),b.uniform1f(this.ratioLocation,a.ratio),b.uniformMatrix3fv(this.matrixLocation,!1,a.matrix),b.uniform1f(this.scaleLocation,a.scalingRatio),b.drawElements(b.TRIANGLES,this.indicesArray.length,this.indicesType,0)}}]),b}(n["default"]);b["default"]=u},function(a,b){a.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=10)}({10:function(a,b){a.exports="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_thickness;\nattribute vec4 a_color;\n\nuniform vec2 u_resolution;\nuniform float u_ratio;\nuniform mat3 u_matrix;\nuniform float u_scale;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float min_thickness = 1.8;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n\n  // Computing thickness in pixels\n  float pow_ratio = 1.0 / pow(u_ratio, 0.5);\n  float thickness = a_thickness * pow_ratio / u_scale;\n\n  // Min thickness for AA\n  thickness = max(min_thickness, thickness);\n\n  // Computing delta relative to viewport\n  vec2 delta = (a_normal * thickness) / u_resolution;\n\n  vec2 position = (u_matrix * vec3(a_position, 1)).xy;\n  position += delta;\n\n  // Applying\n  gl_Position = vec4(position, 0, 1);\n\n  v_normal = a_normal;\n  v_thickness = thickness;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n"}})},function(a,b){a.exports=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=5)}({5:function(a,b){a.exports="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 2.6;\nconst vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, color0, t);\n}\n"}})},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){var d=c.labelSize,e=c.labelFont,h=c.labelWeight;a.font="".concat(h," ").concat(d,"px ").concat(e),a.beginPath(),a.fillStyle="#fff",a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=8,a.shadowColor="#000";var i=a.measureText(b.label).width,j=Math.round(b.x-d/2-2),k=Math.round(b.y-d/2-2),l=Math.round(i+d/2+b.size+9),m=Math.round(d+4),n=Math.round(d/2+2);a.moveTo(j,k+n),a.moveTo(j,k+n),a.arcTo(j,k,j+n,k,n),a.lineTo(j+l,k),a.lineTo(j+l,k+m),a.lineTo(j+n,k+m),a.arcTo(j,k+m,j,k+m-n,n),a.lineTo(j,k+n),a.closePath(),a.fill(),a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0,f["default"](a,b),g["default"](a,b,c)}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=e;var f=d(c(158)),g=d(c(51))},function(a,b,c){"use strict";function d(a,b){a.fillStyle=b.color,a.beginPath(),a.arc(b.x,b.y,b.size,0,e,!0),a.closePath(),a.fill()}Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=d;var e=2*Math.PI},function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d,e,f,g,h){return e+g>a&&a+c>e&&f+h>b&&b+d>f}function f(a){var b=a.cache,c=a.camera,d=a.displayedLabels,f=a.visibleNodes,j=a.dimensions,k=a.graph,l=c.getState(),m=c.getPreviousState(),n=new g["default"];n.setState(m);var o=l.x===m.x&&l.y===m.y&&l.ratio===m.ratio,p=l.ratio<m.ratio,q=l.x!==m.x||l.y!==m.y,r=l.ratio>m.ratio,s=!p&&!r&&l.ratio>=1,t=q&&d.size&&!p&&!r;if(r&&Math.trunc(100*l.ratio)%5!==0)return Array.from(d);if((s||o)&&0!==d.size)return Array.from(d);if(p&&l.ratio>=1)return Array.from(d);for(var u=l.ratio>=1.3?i:h,v=j.width%u.width,w=u.width+v/Math.floor(j.width/u.width),x=j.height%u.height,y=u.height+x/Math.floor(j.height/u.height),z=j.width+w,A=j.height+y,B=-w,C=-y,D=j.width+w/2,E=j.height+y/2,F=-(w/2),G=-(y/2),H=[],I={},J=-(1/0),K=null,L=0,M=f.length;M>L;L++){var N=f[L],O=b[N],P=c.graphToViewport(j,O.x,O.y);if(!(P.x<B||P.x>z||P.y<C||P.y>A)){if(O.size>J&&(J=O.size,K=N),t){var Q=n.graphToViewport(j,O.x,O.y);if(Q.x>=F&&Q.x<=D&&Q.y>=G&&Q.y<=E&&!d.has(N))continue}var R=Math.floor(P.x/w),S=Math.floor(P.y/y),T="".concat(R,"").concat(S);if("undefined"==typeof I[T])I[T]=N;else{var U=I[T],V=b[U];if(d.size>0){var W=d.has(N),X=d.has(U);if(!W&&X)continue;if(W&&!X){I[T]=N;continue}if((t||p)&&W&&X){H.push(N);continue}}var Y=!1;if(O.size>V.size)Y=!0;else if(O.size===V.size){var Z=k.degree(N),$=k.degree(U);Z>$?Y=!0:Z===$&&N>U&&(Y=!0)}Y&&(I[T]=N)}}}var _=H.some(function(a){return a===K});for(var aa in I){var ba=I[aa];ba===K&&(_=!0),H.push(ba)}!_&&K&&H.push(K);for(var ca=new Set,da=0,ea=H.length;ea>da;da++){var fa=H[da],ga=b[fa],ha=c.graphToViewport(j,ga.x,ga.y);if(!ca.has(fa))for(var ia=da+1;ea>ia;ia++){var ja=H[ia],ka=b[ja],la=c.graphToViewport(j,ka.x,ka.y),ma=e(ha.x,ha.y,8*ga.label.length,14,la.x,la.y,8*ka.label.length,14);ma&&(ga.size<ka.size?ca.add(fa):ca.add(ja))}}return H.filter(function(a){return!ca.has(a)})}Object.defineProperty(b,"__esModule",{value:!0}),b.labelsToDisplayFromGrid=f;var g=d(c(15)),h={width:250,height:175},i={width:400,height:300}},function(a,b,c){"use strict";function d(a,b,c){return c.sort(function(a,c){var d=b(a)||0,e=b(c)||0;return e>d?-1:d>e?1:0})}Object.defineProperty(b,"__esModule",{value:!0}),b.zIndexOrdering=d}]);